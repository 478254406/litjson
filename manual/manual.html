<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 1 September 2005), see www.w3.org" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8" />

  <title>LitJSON Manual</title>
  <link rel="stylesheet" href="ld-default.css" type="text/css" />
  <meta name="generator" content=
  "DocBook XSL-NS Stylesheets V1.73.2" />
  <link rel="stylesheet" href="ld-highlight.css" type="text/css" />
</head>

<body>
  <div class="book" lang="en" xml:lang="en">
    <div class="titlepage">
      <div>
        <div>
          <h1 class="title"><a id="manual" name=
          "manual"></a>LitJSON Manual</h1>
        </div>

        <div>
          <div class="authorgroup">
            <div class="author">
              <h3 class="author"><span class=
              "firstname">Leonardo</span> <span class=
              "surname">B</span></h3><code class=
              "email">&lt;<a class="email" href=
              "mailto:leonardo@diptongonante.com">leonardo@diptongonante.com</a>&gt;</code>
            </div>
          </div>
        </div>

        <div>
          <div class="legalnotice">
            <a id="id2506359" name="id2506359"></a>

            <p class="legalnotice-title"><b>Terms Of Use</b></p>

            <p>This manual is dedicated to the public domain.
            Anyone is free to copy, modify, publish, use, or
            distribute the manual for any purpose, commercial or
            non-commercial, and by any means. Have fun.</p>
          </div>
        </div>

        <div>
          <p class="pubdate">2007-09-09</p>
        </div>
        <div>
          <p>
            <strong>Important:</strong> This is a preliminary version of the
            manual, that was being prepared with a custom doc building tool
            that I abandoned. The API section is incomplete, and has a few
            quirks. For now, you may refer to the Quick Start section, and
            when in doubt, you're probably better off just reading the
            source code, which is not very large.
          </p>
        </div>
      </div>
      <hr />
    </div>

    <div class="toc">
      <p><b>Table of Contents</b></p>

      <dl>
        <dt><span class="preface"><a href=
        "#preface">Preface</a></span></dt>

        <dt><span class="part"><a href="#quickstart">I. Quick
        Start</a></span></dt>

        <dd>
          <dl>
            <dt><span class="chapter"><a href=
            "#quickstart.mapping">1. Mapping JSON to objects and
            vice versa</a></span></dt>

            <dt><span class="chapter"><a href=
            "#quickstart.readerwriter">2. Readers and
            Writers</a></span></dt>
          </dl>
        </dd>

        <dt><span class="part"><a href="#reference">II. API
        Reference</a></span></dt>

        <dd>
          <dl>
            <dt><span class="chapter"><a href=
            "#id_746df175d6e60c5e6b61b607991feecb97d6d1ec">1.
            LitJson</a></span></dt>

            <dd>
              <dl>
                <dt><span class="section"><a href=
                "#id_fbb23110f658ad35f3e4c0d695d9b228e27a28dc">1.1.
                <code class=
                "classname">JsonReader</code></a></span></dt>

                <dd>
                  <dl>
                    <dt><span class="section"><a href=
                    "#id2506848">1.1.1. Members</a></span></dt>

                    <dt><span class="section"><a href=
                    "#id2507009">1.1.2.
                    Constructors</a></span></dt>

                    <dt><span class="section"><a href=
                    "#id2507282">1.1.3. Properties</a></span></dt>
                  </dl>
                </dd>
              </dl>
            </dd>
          </dl>
        </dd>

        <dt><span class="part"><a href="#appendices">III.
        Appendices</a></span></dt>

        <dd>
          <dl>
            <dt><span class="appendix"><a href=
            "#appendix.parser">A. Parser
            Implementation</a></span></dt>

            <dd>
              <dl>
                <dt><span class="section"><a href=
                "#appendix.parser.lexer">A.1. Reading
                Tokens</a></span></dt>

                <dd>
                  <dl>
                    <dt><span class="section"><a href=
                    "#appendix.parser.lexer.table">A.1.1. State
                    Machine Table</a></span></dt>
                  </dl>
                </dd>

                <dt><span class="section"><a href=
                "#appendix.parser.grammar">A.2.
                Grammar</a></span></dt>

                <dd>
                  <dl>
                    <dt><span class="section"><a href=
                    "#appendix.parser.grammar.ll">A.2.1. LL(1)
                    Form</a></span></dt>

                    <dt><span class="section"><a href=
                    "#appendix.parser.grammar.first">A.2.2.
                    FIRST(X) sets</a></span></dt>

                    <dt><span class="section"><a href=
                    "#appendix.parser.grammar.follow">A.2.3.
                    FOLLOW(X) sets</a></span></dt>

                    <dt><span class="section"><a href=
                    "#appendix.parser.grammar.table">A.2.4. Parse
                    table</a></span></dt>
                  </dl>
                </dd>
              </dl>
            </dd>

            <dt><span class="appendix"><a href=
            "#appendix.benchmarks">B. Performance
            Benchmarks</a></span></dt>

            <dd>
              <dl>
                <dt><span class="section"><a href=
                "#appendix.benchmarks.description">B.1.
                Description</a></span></dt>

                <dd>
                  <dl>
                    <dt><span class="section"><a href=
                    "#id2511911">B.1.1. Figures Being
                    Measured</a></span></dt>

                    <dt><span class="section"><a href=
                    "#id2511988">B.1.2. Software Being
                    Measured</a></span></dt>

                    <dt><span class="section"><a href=
                    "#id2512049">B.1.3. Environment</a></span></dt>
                  </dl>
                </dd>

                <dt><span class="section"><a href=
                "#appendix.benchmarks.results">B.2.
                Results</a></span></dt>

                <dd>
                  <dl>
                    <dt><span class="section"><a href=
                    "#id2512130">B.2.1. Readers</a></span></dt>

                    <dt><span class="section"><a href=
                    "#id2512310">B.2.2. Writers</a></span></dt>

                    <dt><span class="section"><a href=
                    "#id2512474">B.2.3. Importing</a></span></dt>

                    <dt><span class="section"><a href=
                    "#id2512634">B.2.4. Exporting</a></span></dt>
                  </dl>
                </dd>
              </dl>
            </dd>
          </dl>
        </dd>
      </dl>
    </div>

    <div class="preface" lang="en" xml:lang="en">
      <div class="titlepage">
        <div>
          <div>
            <h1 class="title"><a id="preface" name=
            "preface"></a>Preface</h1>
          </div>

          <div>
            <div class="abstract">
              <p class="title"><b>Abstract</b></p>

              <p>This is the manual of LitJSON, a library for the
              .Net framework, which purpose is to handle data in
              the JSON format.</p>

              <p>It covers version 0.3.0 of the library and at the
              moment it includes a quick start section and some
              appendices containing specific information about
              features of LitJSON, such as the specific approach
              used in the parser component, and some notes
              regarding performance as measured by a set of
              benchmarks.</p>

              <p>Due to some problems in the generation of HTML
              output from the XML sources, the complete API
              reference is not included yet, although this
              shortcoming will likely be fixed in a future release.
              Until that time, it is recommended that developers
              familiarise with the API by reading the unit tests
              distributed with its sources.</p>
            </div>
          </div>
        </div>
      </div>

      <p>JSON is a simple, yet powerful notation to specify data.
      It defines simple scalar types such as boolean, number
      (integers and reals) and string, and a couple of data
      structures: arrays (lists) and objects (dictionaries). For
      more information on the JSON format, visit <a class="link"
      href="http://www.json.org/">JSON.org</a>.</p>

      <p>LitJSON is written in C#, and it's intended to be small,
      fast and easy to use. It was developed on a GNU/Linux
      environment, using the <a class="link" href=
      "http://www.mono-project.com/">Mono</a> framework.</p>
    </div>

    <div class="part" lang="en" xml:lang="en">
      <div class="titlepage">
        <div>
          <div>
            <h1 class="title"><a id="quickstart" name=
            "quickstart"></a>Part&nbsp;I.&nbsp;Quick Start</h1>
          </div>
        </div>
      </div>

      <div class="toc">
        <p><b>Table of Contents</b></p>

        <dl>
          <dt><span class="chapter"><a href=
          "#quickstart.mapping">1. Mapping JSON to objects and vice
          versa</a></span></dt>

          <dt><span class="chapter"><a href=
          "#quickstart.readerwriter">2. Readers and
          Writers</a></span></dt>
        </dl>
      </div>

      <div class="chapter" lang="en" xml:lang="en">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="quickstart.mapping" name=
              "quickstart.mapping"></a>Chapter&nbsp;1.&nbsp;Mapping
              JSON to objects and vice versa</h2>
            </div>
          </div>
        </div>

        <p>In order to consume data in JSON format inside .Net
        programs, the natural approach that comes to mind is to use
        JSON text to populate a new instance of a particular class;
        either a custom one, built to match the structure of the
        input JSON text, or a more general one which acts as a
        dictionary.</p>

        <p>Conversely, in order to build new JSON strings from data
        stored in objects, a simple <span class=
        "emphasis"><em>export</em></span>-like operation sounds
        like a good idea.</p>

        <p>For this purpose, LitJSON includes the <code class=
        "classname">JsonMapper</code> class, which provides two
        main methods used to do JSON-to-object and object-to-JSON
        conversions. These methods are <code class=
        "code">M:JsonMapper.ToObject</code> and <code class=
        "code">M:JsonMapper.ToJson</code>.</p>

        <div class="example">
          <a id="quickstart.mapping.examples.jsonmapper" name=
          "quickstart.mapping.examples.jsonmapper"></a>

          <p class="title"><b>Example&nbsp;1.1.&nbsp;Simple
          JsonMapper examples</b></p>

          <div class="example-contents">
            <p>As the example shows, the method <code class=
            "methodname">ToObject()</code> has a generic variant,
            <code class="code">M:JsonMapper.ToObject{T}</code>,
            that is used to specify the type of the object to be
            returned.</p>

            <div class="programlisting">
              <!-- Generator: GNU source-highlight 2.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
              <pre>
<tt><span class="preproc">using</span><span class=
"normal"> LitJson</span><span class="symbol">;</span>
<span class="preproc">using</span><span class=
"normal"> System</span><span class="symbol">;</span>

<span class="keyword">public</span><span class=
"normal"> </span><span class="keyword">class</span><span class=
"normal"> Person</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class=
"comment">// Person members are defined here ...</span>
<span class="cbracket">}</span>

<span class="keyword">public</span><span class=
"normal"> </span><span class="keyword">class</span><span class=
"normal"> JsonSample</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class=
"keyword">public</span><span class="normal"> </span><span class=
"keyword">static</span><span class="normal"> </span><span class=
"type">void</span><span class="normal"> </span><span class=
"function">Main </span><span class="symbol">()</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        </span><span class=
"function">PersonToJson </span><span class="symbol">();</span>
<span class="normal">        </span><span class=
"function">JsonToPerson </span><span class="symbol">();</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class=
"keyword">public</span><span class="normal"> </span><span class=
"keyword">static</span><span class="normal"> </span><span class=
"type">void</span><span class="normal"> </span><span class=
"function">PersonToJson </span><span class="symbol">()</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        Person bill </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"keyword">new</span><span class="normal"> </span><span class=
"function">Person </span><span class="symbol">();</span>

<span class="normal">        bill</span><span class=
"symbol">.</span><span class="normal">Name </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"string">"William Shakespeare"</span><span class="symbol">;</span>
<span class="normal">        bill</span><span class=
"symbol">.</span><span class="normal">Age  </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"number">51</span><span class="symbol">;</span>
<span class="normal">        bill</span><span class=
"symbol">.</span><span class="normal">Birthday </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"keyword">new</span><span class="normal"> </span><span class=
"function">DateTime </span><span class=
"symbol">(</span><span class="number">1564</span><span class=
"symbol">,</span><span class="normal"> </span><span class=
"number">4</span><span class="symbol">,</span><span class=
"normal"> </span><span class="number">26</span><span class=
"symbol">);</span>

<span class="normal">        </span><span class=
"type">string</span><span class=
"normal"> json_bill </span><span class=
"symbol">=</span><span class="normal"> JsonMapper</span><span class="symbol">.</span><span class="function">ToJson </span><span class="symbol">(</span><span class="normal">bill</span><span class="symbol">);</span>

<span class="normal">        Console</span><span class=
"symbol">.</span><span class=
"function">WriteLine </span><span class=
"symbol">(</span><span class="normal">json_bill</span><span class=
"symbol">);</span>
<span class="normal">        </span><span class=
"comment">// {"Name":"William Shakespeare","Age":51,"Birthday":"04/26/1564 00:00:00"}</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class=
"keyword">public</span><span class="normal"> </span><span class=
"keyword">static</span><span class="normal"> </span><span class=
"type">void</span><span class="normal"> </span><span class=
"function">JsonToPerson </span><span class="symbol">()</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        </span><span class=
"type">string</span><span class="normal"> json </span><span class=
"symbol">=</span><span class="normal"> @</span><span class=
"string">"</span>
<span class="string">            {</span>
<span class=
"string">                ""Name""     : ""Thomas More"",</span>
<span class="string">                ""Age""      : 57,</span>
<span class=
"string">                ""Birthday"" : ""02/07/1478 00:00:00""</span>
<span class="string">            }"</span><span class=
"symbol">;</span>

<span class="normal">        Person thomas </span><span class=
"symbol">=</span><span class=
"normal"> JsonMapper</span><span class="symbol">.</span><span class="normal">ToObject</span><span class="symbol">&lt;</span><span class="normal">Person</span><span class="symbol">&gt;</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">json</span><span class="symbol">);</span>

<span class="normal">        Console</span><span class=
"symbol">.</span><span class=
"function">WriteLine </span><span class=
"symbol">(</span><span class=
"string">"Thomas' age: {0}"</span><span class=
"symbol">,</span><span class="normal"> thomas</span><span class=
"symbol">.</span><span class="normal">Age</span><span class=
"symbol">);</span>
<span class="normal">        </span><span class=
"comment">// Thomas' age: 57</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span></tt>
</pre>
            </div>
          </div>
        </div><br class="example-break" />

        <p>When JSON data is to be read and a custom class that
        matches a particular data structure is not available or
        desired, users can use the non-generic variant of
        <code class="methodname">ToObject()</code>, which returns a
        <code class="classname">JsonData</code> instance.
        <code class="classname">JsonData</code> is a general
        purpose type that can hold any of the data types supported
        by JSON, including lists and dictionaries.</p>

        <div class="example">
          <a id="quickstart.mapping.examples.jsondata" name=
          "quickstart.mapping.examples.jsondata"></a>

          <p class="title"><b>Example&nbsp;1.2.&nbsp;Using the
          non-generic variant of <code class=
          "methodname">JsonMapper.ToObject()</code></b></p>

          <div class="example-contents">
            <div class="programlisting">
              <!-- Generator: GNU source-highlight 2.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
              <pre>
<tt><span class="preproc">using</span><span class=
"normal"> LitJson</span><span class="symbol">;</span>
<span class="preproc">using</span><span class=
"normal"> System</span><span class="symbol">;</span>

<span class="keyword">public</span><span class=
"normal"> </span><span class="keyword">class</span><span class=
"normal"> JsonSample</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class=
"keyword">public</span><span class="normal"> </span><span class=
"type">void</span><span class="normal"> </span><span class=
"function">LoadAlbumData </span><span class=
"symbol">(</span><span class="type">string</span><span class=
"normal"> json_text</span><span class="symbol">)</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        JsonData data </span><span class=
"symbol">=</span><span class=
"normal"> JsonMapper</span><span class="symbol">.</span><span class="function">ToObject </span><span class="symbol">(</span><span class="normal">json_text</span><span class="symbol">);</span>

<span class="normal">        </span><span class=
"comment">// Dictionaries are accessed like a hash-table</span>
<span class="normal">        Console</span><span class=
"symbol">.</span><span class=
"function">WriteLine </span><span class=
"symbol">(</span><span class=
"string">"Album's name: {0}"</span><span class=
"symbol">,</span><span class="normal"> data</span><span class=
"symbol">[</span><span class="string">"album"</span><span class=
"symbol">][</span><span class="string">"name"</span><span class=
"symbol">]);</span>

<span class="normal">        </span><span class=
"comment">// Scalar elements stored in a JsonData instance can be cast to</span>
<span class="normal">        </span><span class=
"comment">// their natural types</span>
<span class="normal">        </span><span class=
"type">string</span><span class=
"normal"> artist </span><span class="symbol">=</span><span class=
"normal"> </span><span class="symbol">(</span><span class=
"type">string</span><span class="symbol">)</span><span class=
"normal"> data</span><span class="symbol">[</span><span class=
"string">"album"</span><span class="symbol">][</span><span class=
"string">"artist"</span><span class="symbol">];</span>
<span class="normal">        </span><span class=
"type">int</span><span class=
"normal">    year   </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> data</span><span class="symbol">[</span><span class="string">"album"</span><span class="symbol">][</span><span class="string">"year"</span><span class="symbol">];</span>

<span class="normal">        </span><span class=
"comment">// Arrays are accessed like regular lists as well</span>
<span class="normal">        Console</span><span class=
"symbol">.</span><span class=
"function">WriteLine </span><span class=
"symbol">(</span><span class=
"string">"First track: {0}"</span><span class=
"symbol">,</span><span class="normal"> data</span><span class=
"symbol">[</span><span class="string">"album"</span><span class=
"symbol">][</span><span class="string">"tracks"</span><span class=
"symbol">][</span><span class="number">0</span><span class=
"symbol">]);</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span></tt>
</pre>
            </div>
          </div>
        </div><br class="example-break" />
      </div>

      <div class="chapter" lang="en" xml:lang="en">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="quickstart.readerwriter"
              name=
              "quickstart.readerwriter"></a>Chapter&nbsp;2.&nbsp;Readers
              and Writers</h2>
            </div>
          </div>
        </div>

        <p>An alternative interface to handling JSON data that
        might be familiar to some developers is through classes
        that make it possible to read and write data in a
        stream-like fashion. These classes are <code class=
        "classname">JsonReader</code> and <code class=
        "classname">JsonWriter</code>.</p>

        <p>These two types are in fact the foundation of this
        library, and the <code class="classname">JsonMapper</code>
        type is built on top of them, so in a way, the developer
        can think of the reader and writer classes as the low-level
        programming interface for LitJSON.</p>

        <div class="example">
          <a id="quickstart.readerwriter.examples.jsonreader" name=
          "quickstart.readerwriter.examples.jsonreader"></a>

          <p class="title"><b>Example&nbsp;2.1.&nbsp;Using
          <code class="classname">JsonReader</code></b></p>

          <div class="example-contents">
            <div class="programlisting">
              <!-- Generator: GNU source-highlight 2.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
              <pre>
<tt><span class="preproc">using</span><span class=
"normal"> LitJson</span><span class="symbol">;</span>
<span class="preproc">using</span><span class=
"normal"> System</span><span class="symbol">;</span>

<span class="keyword">public</span><span class=
"normal"> </span><span class="keyword">class</span><span class=
"normal"> DataReader</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class=
"keyword">public</span><span class="normal"> </span><span class=
"keyword">static</span><span class="normal"> </span><span class=
"type">void</span><span class="normal"> </span><span class=
"function">Main </span><span class="symbol">()</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        </span><span class=
"type">string</span><span class=
"normal"> sample </span><span class="symbol">=</span><span class=
"normal"> @</span><span class="string">"{</span>
<span class="string">            ""name""  : ""Bill"",</span>
<span class="string">            ""age""   : 32,</span>
<span class="string">            ""awake"" : true,</span>
<span class="string">            ""n""     : 1994.0226,</span>
<span class=
"string">            ""note""  : [ ""life"", ""is"", ""but"", ""a"", ""dream"" ]</span>
<span class="string">          }"</span><span class=
"symbol">;</span>

<span class="normal">        </span><span class=
"function">PrintJson </span><span class=
"symbol">(</span><span class="normal">sample</span><span class=
"symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class=
"keyword">public</span><span class="normal"> </span><span class=
"keyword">static</span><span class="normal"> </span><span class=
"type">void</span><span class="normal"> </span><span class=
"function">PrintJson </span><span class=
"symbol">(</span><span class="type">string</span><span class=
"normal"> json</span><span class="symbol">)</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        JsonReader reader </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"keyword">new</span><span class="normal"> </span><span class=
"function">JsonReader </span><span class=
"symbol">(</span><span class="normal">json</span><span class=
"symbol">);</span>

<span class="normal">        Console</span><span class=
"symbol">.</span><span class=
"function">WriteLine </span><span class=
"symbol">(</span><span class=
"string">"{0,14} {1,10} {2,16}"</span><span class=
"symbol">,</span><span class="normal"> </span><span class=
"string">"Token"</span><span class="symbol">,</span><span class=
"normal"> </span><span class="string">"Value"</span><span class=
"symbol">,</span><span class="normal"> </span><span class=
"string">"Type"</span><span class="symbol">);</span>
<span class="normal">        Console</span><span class=
"symbol">.</span><span class=
"function">WriteLine </span><span class=
"symbol">(</span><span class="keyword">new</span><span class=
"normal"> </span><span class="function">String </span><span class=
"symbol">(</span><span class="string">'-'</span><span class=
"symbol">,</span><span class="normal"> </span><span class=
"number">42</span><span class="symbol">));</span>

<span class="normal">        </span><span class=
"comment">// The Read() method returns false when there's nothing else to read</span>
<span class="normal">        </span><span class=
"keyword">while</span><span class="normal"> </span><span class=
"symbol">(</span><span class="normal">reader</span><span class=
"symbol">.</span><span class="function">Read </span><span class=
"symbol">())</span><span class="normal"> </span><span class=
"cbracket">{</span>
<span class="normal">            </span><span class=
"type">string</span><span class="normal"> type </span><span class=
"symbol">=</span><span class="normal"> reader</span><span class=
"symbol">.</span><span class="normal">Value </span><span class=
"symbol">!=</span><span class="normal"> </span><span class=
"keyword">null</span><span class="normal"> </span><span class=
"symbol">?</span>
<span class="normal">                reader</span><span class=
"symbol">.</span><span class="normal">Value</span><span class=
"symbol">.</span><span class="function">GetType </span><span class=
"symbol">().</span><span class=
"function">ToString </span><span class=
"symbol">()</span><span class="normal"> </span><span class=
"symbol">:</span><span class="normal"> </span><span class=
"string">""</span><span class="symbol">;</span>

<span class="normal">            Console</span><span class=
"symbol">.</span><span class=
"function">WriteLine </span><span class=
"symbol">(</span><span class=
"string">"{0,14} {1,10} {2,16}"</span><span class="symbol">,</span>
<span class=
"normal">                               reader</span><span class=
"symbol">.</span><span class="normal">Token</span><span class=
"symbol">,</span><span class="normal"> reader</span><span class=
"symbol">.</span><span class="normal">Value</span><span class=
"symbol">,</span><span class="normal"> type</span><span class=
"symbol">);</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span></tt>
</pre>
            </div>

            <p>This example would produce the following output:</p>
            <pre class="screen">
Token      Value             Type
------------------------------------------
   ObjectStart                            
  PropertyName       name    System.String
        String       Bill    System.String
  PropertyName        age    System.String
           Int         32     System.Int32
  PropertyName      awake    System.String
       Boolean       True   System.Boolean
  PropertyName          n    System.String
        Double  1994.0226    System.Double
  PropertyName       note    System.String
    ArrayStart                            
        String       life    System.String
        String         is    System.String
        String        but    System.String
        String          a    System.String
        String      dream    System.String
      ArrayEnd                            
     ObjectEnd
</pre>
          </div>
        </div><br class="example-break" />

        <div class="example">
          <a id="quickstart.readerwriter.examples.jsonwriter" name=
          "quickstart.readerwriter.examples.jsonwriter"></a>

          <p class="title"><b>Example&nbsp;2.2.&nbsp;Using
          <code class="classname">JsonWriter</code></b></p>

          <div class="example-contents">
            <div class="programlisting">
              <!-- Generator: GNU source-highlight 2.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
              <pre>
<tt><span class="preproc">using</span><span class=
"normal"> LitJson</span><span class="symbol">;</span>
<span class="preproc">using</span><span class=
"normal"> System</span><span class="symbol">;</span>
<span class="preproc">using</span><span class=
"normal"> System</span><span class="symbol">.</span><span class=
"normal">Text</span><span class="symbol">;</span>

<span class="keyword">public</span><span class=
"normal"> </span><span class="keyword">class</span><span class=
"normal"> DataWriter</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class=
"keyword">public</span><span class="normal"> </span><span class=
"keyword">static</span><span class="normal"> </span><span class=
"type">void</span><span class="normal"> </span><span class=
"function">WriteJson </span><span class="symbol">()</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        StringBuilder sb </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"keyword">new</span><span class="normal"> </span><span class=
"function">StringBuilder </span><span class="symbol">();</span>
<span class="normal">        JsonWriter writer </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"keyword">new</span><span class="normal"> </span><span class=
"function">JsonWriter </span><span class=
"symbol">(</span><span class="normal">sb</span><span class=
"symbol">);</span>

<span class="normal">        writer</span><span class=
"symbol">.</span><span class=
"function">WriteArrayStart </span><span class="symbol">();</span>
<span class="normal">        writer</span><span class=
"symbol">.</span><span class="function">Write </span><span class=
"symbol">(</span><span class="number">1</span><span class=
"symbol">);</span>
<span class="normal">        writer</span><span class=
"symbol">.</span><span class="function">Write </span><span class=
"symbol">(</span><span class="number">2</span><span class=
"symbol">);</span>
<span class="normal">        writer</span><span class=
"symbol">.</span><span class="function">Write </span><span class=
"symbol">(</span><span class="number">3</span><span class=
"symbol">);</span>

<span class="normal">        writer</span><span class=
"symbol">.</span><span class=
"function">WriteObjectStart </span><span class="symbol">();</span>
<span class="normal">        writer</span><span class=
"symbol">.</span><span class=
"function">WritePropertyName </span><span class=
"symbol">(</span><span class="string">"color"</span><span class=
"symbol">);</span>
<span class="normal">        writer</span><span class=
"symbol">.</span><span class="function">Write </span><span class=
"symbol">(</span><span class="string">"blue"</span><span class=
"symbol">);</span>
<span class="normal">        writer</span><span class=
"symbol">.</span><span class=
"function">WriteObjectEnd </span><span class="symbol">();</span>

<span class="normal">        writer</span><span class=
"symbol">.</span><span class=
"function">WriteArrayEnd </span><span class="symbol">();</span>

<span class="normal">        Console</span><span class=
"symbol">.</span><span class=
"function">WriteLine </span><span class=
"symbol">(</span><span class="normal">sb</span><span class=
"symbol">.</span><span class=
"function">ToString </span><span class="symbol">());</span>
<span class="normal">        </span><span class=
"comment">// [1,2,3,{"color":"blue"}]</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span></tt>
</pre>
            </div>
          </div>
        </div><br class="example-break" />
      </div>
    </div>

    <div class="part" lang="en" xml:lang="en">
      <div class="titlepage">
        <div>
          <div>
            <h1 class="title"><a id="reference" name=
            "reference"></a>Part&nbsp;II.&nbsp;API Reference</h1>
          </div>
        </div>
      </div>

      <div class="toc">
        <p><b>Table of Contents</b></p>

        <dl>
          <dt><span class="chapter"><a href=
          "#id_746df175d6e60c5e6b61b607991feecb97d6d1ec">1.
          LitJson</a></span></dt>

          <dd>
            <dl>
              <dt><span class="section"><a href=
              "#id_fbb23110f658ad35f3e4c0d695d9b228e27a28dc">1.1.
              <code class=
              "classname">JsonReader</code></a></span></dt>

              <dd>
                <dl>
                  <dt><span class="section"><a href=
                  "#id2506848">1.1.1. Members</a></span></dt>

                  <dt><span class="section"><a href=
                  "#id2507009">1.1.2. Constructors</a></span></dt>

                  <dt><span class="section"><a href=
                  "#id2507282">1.1.3. Properties</a></span></dt>
                </dl>
              </dd>
            </dl>
          </dd>
        </dl>
      </div>

      <div class="chapter" lang="en" xml:lang="en">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id=
              "id_746df175d6e60c5e6b61b607991feecb97d6d1ec" name=
              "id_746df175d6e60c5e6b61b607991feecb97d6d1ec"></a>Chapter&nbsp;1.&nbsp;LitJson</h2>
            </div>
          </div>
        </div>

        <div class="toc">
          <p><b>Table of Contents</b></p>

          <dl>
            <dt><span class="section"><a href=
            "#id_fbb23110f658ad35f3e4c0d695d9b228e27a28dc">1.1.
            <code class=
            "classname">JsonReader</code></a></span></dt>

            <dd>
              <dl>
                <dt><span class="section"><a href=
                "#id2506848">1.1.1. Members</a></span></dt>

                <dt><span class="section"><a href=
                "#id2507009">1.1.2. Constructors</a></span></dt>

                <dt><span class="section"><a href=
                "#id2507282">1.1.3. Properties</a></span></dt>
              </dl>
            </dd>
          </dl>
        </div>

        <p><code class="literal">LitJson</code> is the main
        namespace of the LitJSON library. It contains all the
        necessary types to process JSON data in .Net programs.</p>

        <div class="section" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id=
                "id_fbb23110f658ad35f3e4c0d695d9b228e27a28dc" name=
                "id_fbb23110f658ad35f3e4c0d695d9b228e27a28dc"></a>1.1.&nbsp;<code class="classname">JsonReader</code></h2>
              </div>

              <div>
                <div class="abstract">
                  <p class="title"><b>Abstract</b></p>

                  <p>Streamed reading of JSON data</p>
                </div>
              </div>
            </div>
          </div>
          <pre class="classsynopsis">
 <span class="ooclass"><span class=
"modifier">public </span><span class=
"keyword">class </span><span class=
"classname">JsonReader</span></span>
</pre>

          <p><code class="classname">JsonReader</code> provides a
          stream-like interface to read data from a certain source,
          normally a string, or a <code class=
          "classname">TextReader</code>.</p>

          <div class="section" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="id2506848" name=
                  "id2506848"></a>1.1.1.&nbsp;Members</h3>
                </div>
              </div>
            </div>

            <div class="simplesect" lang="en" xml:lang="en">
              <div class="titlepage">
                <div>
                  <div>
                    <h4 class="title"><a id="id2506854" name=
                    "id2506854"></a>Constructors</h4>
                  </div>
                </div>
              </div>

              <div class="informaltable">
                <table summary="List of Constructors" border="1">
                  <colgroup>
                    <col />
                  </colgroup>

                  <tbody>
                    <tr>
                      <td>
                        <p><code class=
                        "code">M:JsonReader(System.IO.TextReader)</code></p>

                        <p>Constructs a <code class=
                        "classname">JsonReader</code> using the
                        given <code class=
                        "classname">TextReader</code> to obtain its
                        input</p>
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <p><code class=
                        "code">M:JsonReader(System.String)</code></p>

                        <p>Constructs a <code class=
                        "classname">JsonReader</code> using the
                        given string as input</p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <div class="simplesect" lang="en" xml:lang="en">
              <div class="titlepage">
                <div>
                  <div>
                    <h4 class="title"><a id="id2506905" name=
                    "id2506905"></a>Properties</h4>
                  </div>
                </div>
              </div>

              <div class="informaltable">
                <table summary="List of Properties" border="1">
                  <colgroup>
                    <col />
                    <col />
                  </colgroup>

                  <tbody>
                    <tr>
                      <td>
                        <p><span class=
                        "property">AllowComments</span></p>
                      </td>

                      <td>
                        <p><span class="type">bool</span></p>

                        <p>Specifies whether the reader accepts
                        javascript-like comments in the input or
                        not</p>
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <p><span class=
                        "property">AllowSingleQuotedStrings</span></p>
                      </td>

                      <td>
                        <p><span class="type">bool</span></p>

                        <p>Specifies whether the reader accepts
                        strings enclosed within single quotes</p>
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <p><span class=
                        "property">EndOfInput</span></p>
                      </td>

                      <td>
                        <p><span class="type">bool</span></p>

                        <p>Indicates whether the reader has reached
                        the end of the input stream</p>
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <p><span class=
                        "property">EndOfJson</span></p>
                      </td>

                      <td>
                        <p><span class="type">bool</span></p>

                        <p>Indicates whether the reader has reached
                        the end of a JSON text</p>
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <p><span class="property">Token</span></p>
                      </td>

                      <td>
                        <p><span class="type">JsonToken</span></p>

                        <p>Holds the last token read from this
                        reader</p>
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <p><span class="property">Value</span></p>
                      </td>

                      <td>
                        <p><span class="type">object</span></p>

                        <p>Holds the value of the last token read
                        from this reader</p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <div class="section" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="id2507009" name=
                  "id2507009"></a>1.1.2.&nbsp;Constructors</h3>
                </div>
              </div>
            </div>

            <div class="refentry" lang="en" xml:lang="en">
              <a id="id_b7c120c19b5efbfea70e496f598591cd241e96a8"
              name=
              "id_b7c120c19b5efbfea70e496f598591cd241e96a8"></a>

              <div class="titlepage"></div>

              <div class="refnamediv">
                <h2><span class="refentrytitle"><code class=
                "code">M:JsonReader(System.IO.TextReader)</code></span></h2>

                <p><code class=
                "code">M:JsonReader(System.IO.TextReader)</code> —
                Constructs a <code class=
                "classname">JsonReader</code> using the given
                <code class="classname">TextReader</code> to obtain
                its input</p>
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2507126" name="id2507126"></a>

                <h2>Description</h2><code class=
                "constructorsynopsis"><span class=
                "modifier">public&nbsp;</span><span class=
                "methodname">JsonReader</span>(<span class=
                "methodparam"><span class=
                "type">System.IO.TextReader&nbsp;</span><span class="parameter">reader</span></span>)</code>
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2507157" name="id2507157"></a>

                <h2>Parameters</h2>

                <div class="variablelist">
                  <dl>
                    <dt><span class="term"><em class=
                    "parameter"><code>reader</code></em></span></dt>

                    <dd>
                      <p>A <code class=
                      "classname">TextReader</code> from which JSON
                      data is read</p>
                    </dd>
                  </dl>
                </div>
              </div>
            </div>

            <div class="refentry" lang="en" xml:lang="en">
              <div class="refentry.separator">
                <hr />
              </div><a id=
              "id_52518ad864eb638361f5565d5e3ee50f85339754" name=
              "id_52518ad864eb638361f5565d5e3ee50f85339754"></a>

              <div class="titlepage"></div>

              <div class="refnamediv">
                <h2><span class="refentrytitle"><code class=
                "code">M:JsonReader(System.String)</code></span></h2>

                <p><code class=
                "code">M:JsonReader(System.String)</code> —
                Constructs a <code class=
                "classname">JsonReader</code> using the given
                string as input</p>
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2507223" name="id2507223"></a>

                <h2>Description</h2><code class=
                "constructorsynopsis"><span class=
                "modifier">public&nbsp;</span><span class=
                "methodname">JsonReader</span>(<span class=
                "methodparam"><span class=
                "type">System.String&nbsp;</span><span class=
                "parameter">json_text</span></span>)</code>
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2507254" name="id2507254"></a>

                <h2>Parameters</h2>

                <div class="variablelist">
                  <dl>
                    <dt><span class="term"><em class=
                    "parameter"><code>json_text</code></em></span></dt>

                    <dd>
                      <p>String to use as JSON input</p>
                    </dd>
                  </dl>
                </div>
              </div>
            </div>
          </div>

          <div class="section" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="id2507282" name=
                  "id2507282"></a>1.1.3.&nbsp;Properties</h3>
                </div>
              </div>
            </div>

            <div class="refentry" lang="en" xml:lang="en">
              <a id="id_5c98ac43cbef4a80ad00f9f170d35ade969e9082"
              name=
              "id_5c98ac43cbef4a80ad00f9f170d35ade969e9082"></a>

              <div class="titlepage"></div>

              <div class="refnamediv">
                <h2><span class="refentrytitle">lse
                Property</span></h2>

                <p><span class="property">AllowComments</span> —
                Specifies whether the reader accepts
                javascript-like comments in the input or not</p>
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2507322" name="id2507322"></a>

                <h2>Description</h2><code class=
                "synopsis"><span class=
                "modifier">public&nbsp;</span><span class=
                "type">bool&nbsp;</span><span class=
                "property">AllowComments&nbsp;</span>{ get; set;
                }</code>

                <p>An instance of <code class=
                "classname">JsonReader</code> can be configured to
                accept javascript comments, which are not part of
                the strict JSON grammar.</p>

                <p>When this property is <code class=
                "literal">true</code>, the reader allows comments
                in the following forms:</p>

                <div class="programlisting">
                  <!-- Generator: GNU source-highlight 2.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
                  <pre>
<tt><span class="comment">// Single-line comment</span>

<span class="comment">/*</span>
<span class="comment"> * Multi-line comment</span>
<span class="comment"> */</span></tt>
</pre>
                </div>

                <p>The value of this property is <code class=
                "literal">true</code> by default.</p>
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2507387" name="id2507387"></a>

                <h2>Examples</h2>

                <div class="example">
                  <a id="id2507394" name="id2507394"></a>

                  <p class="title">
                  <b>Example&nbsp;1.1.&nbsp;<span class=
                  "property">AllowComments</span> examples</b></p>

                  <div class="example-contents">
                    <div class="programlisting">
                      <!-- Generator: GNU source-highlight 2.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
                      <pre>
<tt><span class="preproc">using</span><span class=
"normal"> LitJson</span><span class="symbol">;</span>

<span class="keyword">class</span><span class=
"normal"> JsonSample</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class=
"type">void</span><span class="normal"> </span><span class=
"function">ReadJsonWithComments </span><span class=
"symbol">()</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        </span><span class=
"type">string</span><span class="normal"> json </span><span class=
"symbol">=</span><span class="normal"> @</span><span class=
"string">"</span>
<span class="string">            {</span>
<span class=
"string">                // This specifies the kind of animal</span>
<span class=
"string">                ""animal"" : ""rabbit"",</span>

<span class="string">                /*</span>
<span class=
"string">                 * This tells the color of the animal</span>
<span class="string">                 */</span>
<span class="string">                ""color"" : ""white""</span>
<span class="string">            }"</span><span class=
"symbol">;</span>

<span class="normal">        JsonReader reader </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"keyword">new</span><span class="normal"> </span><span class=
"function">JsonReader </span><span class=
"symbol">(</span><span class="normal">json</span><span class=
"symbol">);</span>

<span class="normal">        </span><span class=
"keyword">while</span><span class="normal"> </span><span class=
"symbol">(</span><span class="normal">reader</span><span class=
"symbol">.</span><span class="function">Read </span><span class=
"symbol">())</span><span class="normal"> </span><span class=
"cbracket">{</span>
<span class="normal">            </span><span class=
"comment">// Do something with every token read</span>
<span class="normal">        </span><span class="cbracket">}</span>

<span class="normal">        </span><span class=
"comment">// New instance to begin reading again</span>
<span class="normal">        reader </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"keyword">new</span><span class="normal"> </span><span class=
"function">JsonReader </span><span class=
"symbol">(</span><span class="normal">json</span><span class=
"symbol">);</span>
<span class="normal">        reader</span><span class=
"symbol">.</span><span class=
"normal">AllowComments </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"keyword">false</span><span class="symbol">;</span>

<span class="normal">        </span><span class=
"keyword">while</span><span class="normal"> </span><span class=
"symbol">(</span><span class="normal">reader</span><span class=
"symbol">.</span><span class="function">Read </span><span class=
"symbol">())</span><span class="normal"> </span><span class=
"cbracket">{</span>
<span class="normal">            </span><span class=
"comment">// An exception is thrown in this case</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span></tt>
</pre>
                    </div>
                  </div>
                </div><br class="example-break" />
              </div>
            </div>

            <div class="refentry" lang="en" xml:lang="en">
              <div class="refentry.separator">
                <hr />
              </div><a id=
              "id_c64913aa2cc6ae55736408cfb140090342505fb7" name=
              "id_c64913aa2cc6ae55736408cfb140090342505fb7"></a>

              <div class="titlepage"></div>

              <div class="refnamediv">
                <h2><span class="refentrytitle">lse
                Property</span></h2>

                <p><span class=
                "property">AllowSingleQuotedStrings</span> —
                Specifies whether the reader accepts strings
                enclosed within single quotes</p>
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2507455" name="id2507455"></a>

                <h2>Description</h2><code class=
                "synopsis"><span class=
                "modifier">public&nbsp;</span><span class=
                "type">bool&nbsp;</span><span class=
                "property">AllowSingleQuotedStrings&nbsp;</span>{
                get; set; }</code>

                <p>An instance of <code class=
                "classname">JsonReader</code> can be configured to
                accept strings delimited by the single quote
                character (<code class="literal">'</code>),
                something which is not part of the strict JSON
                grammar.</p>

                <p>The value of this property is <code class=
                "literal">true</code> by default.</p>
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2507506" name="id2507506"></a>

                <h2>Examples</h2>

                <div class="example">
                  <a id="id2507514" name="id2507514"></a>

                  <p class="title">
                  <b>Example&nbsp;1.2.&nbsp;<span class=
                  "property">AllowSingleQuotedStrings</span>
                  examples</b></p>

                  <div class="example-contents">
                    <div class="programlisting">
                      <!-- Generator: GNU source-highlight 2.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
                      <pre>
<tt><span class="preproc">using</span><span class=
"normal"> LitJson</span><span class="symbol">;</span>

<span class="keyword">class</span><span class=
"normal"> JsonSample</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class=
"type">void</span><span class="normal"> </span><span class=
"function">ReadJsonStrings </span><span class="symbol">()</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        </span><span class=
"comment">// Notice the second element</span>
<span class="normal">        </span><span class=
"type">string</span><span class="normal"> json </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"string">"[ </span><span class="specialchar">\"</span><span class=
"string">one</span><span class="specialchar">\"</span><span class=
"string">, 'two', </span><span class=
"specialchar">\"</span><span class=
"string">three</span><span class="specialchar">\"</span><span class="string"> ]"</span><span class="symbol">;</span>

<span class="normal">        JsonReader reader </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"keyword">new</span><span class="normal"> </span><span class=
"function">JsonReader </span><span class=
"symbol">(</span><span class="normal">json</span><span class=
"symbol">);</span>

<span class="normal">        </span><span class=
"keyword">while</span><span class="normal"> </span><span class=
"symbol">(</span><span class="normal">reader</span><span class=
"symbol">.</span><span class="function">Read </span><span class=
"symbol">())</span><span class="normal"> </span><span class=
"cbracket">{</span>
<span class="normal">            </span><span class=
"comment">// Do something with the tokens read</span>
<span class="normal">        </span><span class="cbracket">}</span>

<span class="normal">        </span><span class=
"comment">// New instance to begin reading again</span>
<span class="normal">        reader </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"keyword">new</span><span class="normal"> </span><span class=
"function">JsonReader </span><span class=
"symbol">(</span><span class="normal">json</span><span class=
"symbol">);</span>
<span class="normal">        reader</span><span class=
"symbol">.</span><span class=
"normal">AllowSingleQuotedStrings </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"keyword">false</span><span class="symbol">;</span>

<span class="normal">        </span><span class=
"keyword">while</span><span class="normal"> </span><span class=
"symbol">(</span><span class="normal">reader</span><span class=
"symbol">.</span><span class="function">Read </span><span class=
"symbol">())</span><span class="normal"> </span><span class=
"cbracket">{</span>
<span class="normal">            </span><span class=
"comment">// An exception would be thrown here</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span></tt>
</pre>
                    </div>
                  </div>
                </div><br class="example-break" />
              </div>
            </div>

            <div class="refentry" lang="en" xml:lang="en">
              <div class="refentry.separator">
                <hr />
              </div><a id=
              "id_f15651449576624a08750cb821eaadf69aebbd9a" name=
              "id_f15651449576624a08750cb821eaadf69aebbd9a"></a>

              <div class="titlepage"></div>

              <div class="refnamediv">
                <h2><span class="refentrytitle">lse
                Property</span></h2>

                <p><span class="property">EndOfInput</span> —
                Indicates whether the reader has reached the end of
                the input stream</p>
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2507571" name="id2507571"></a>

                <h2>Description</h2><code class=
                "synopsis"><span class=
                "modifier">public&nbsp;</span><span class=
                "type">bool&nbsp;</span><span class=
                "property">EndOfInput&nbsp;</span>{ get; }</code>

                <p>This property tells the user if the reader has
                reached the end of the input stream.</p>

                <p>Notice that reading from a <code class=
                "classname">JsonReader</code> until the end of the
                input can be done by checking the return value from
                <code class="code">M:Read</code>, in which case
                using this property is not necessary.</p>
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2507618" name="id2507618"></a>

                <h2>Examples</h2>

                <div class="example">
                  <a id="id2507625" name="id2507625"></a>

                  <p class="title"><b>Example&nbsp;1.3.&nbsp;Using
                  <span class="property">EndOfInput</span></b></p>

                  <div class="example-contents">
                    <div class="programlisting">
                      <!-- Generator: GNU source-highlight 2.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
                      <pre>
<tt><span class="preproc">using</span><span class=
"normal"> LitJson</span><span class="symbol">;</span>
<span class="preproc">using</span><span class=
"normal"> System</span><span class="symbol">;</span>

<span class="keyword">class</span><span class=
"normal"> JsonSample</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class=
"type">void</span><span class="normal"> </span><span class=
"function">CountNumbers </span><span class="symbol">()</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        </span><span class=
"type">string</span><span class=
"normal"> json_sample </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"string">" [ 1.234, 2.345, [ 3.456, 4.567 ], 5.678 ] "</span><span class="symbol">;</span>

<span class="normal">        JsonReader reader </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"keyword">new</span><span class="normal"> </span><span class=
"function">JsonReader </span><span class=
"symbol">(</span><span class=
"normal">json_sample</span><span class="symbol">);</span>

<span class="normal">        </span><span class=
"type">int</span><span class=
"normal"> n_numbers </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span>

<span class="normal">        </span><span class=
"keyword">while</span><span class="normal"> </span><span class=
"symbol">(!</span><span class="normal"> reader</span><span class=
"symbol">.</span><span class="normal">EndOfInput</span><span class=
"symbol">)</span><span class="normal"> </span><span class=
"cbracket">{</span>
<span class="normal">            reader</span><span class=
"symbol">.</span><span class="function">Read </span><span class=
"symbol">();</span>

<span class="normal">            </span><span class=
"keyword">if</span><span class="normal"> </span><span class=
"symbol">(</span><span class="normal">reader</span><span class=
"symbol">.</span><span class="normal">Token </span><span class=
"symbol">==</span><span class=
"normal"> JsonToken</span><span class="symbol">.</span><span class=
"normal">Int</span>
<span class="normal">                </span><span class=
"symbol">||</span><span class="normal"> reader</span><span class=
"symbol">.</span><span class="normal">Token </span><span class=
"symbol">==</span><span class=
"normal"> JsonToken</span><span class="symbol">.</span><span class=
"normal">Long</span>
<span class="normal">                </span><span class=
"symbol">||</span><span class="normal"> reader</span><span class=
"symbol">.</span><span class="normal">Token </span><span class=
"symbol">==</span><span class=
"normal"> JsonToken</span><span class="symbol">.</span><span class=
"normal">Double</span><span class="symbol">)</span>
<span class="normal">                n_numbers</span><span class=
"symbol">++;</span>
<span class="normal">        </span><span class="cbracket">}</span>

<span class="normal">        Console</span><span class=
"symbol">.</span><span class=
"function">WriteLine </span><span class=
"symbol">(</span><span class=
"string">"Total of numbers read: {0}"</span><span class=
"symbol">,</span><span class="normal"> n_numbers</span><span class=
"symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span></tt>
</pre>
                    </div>

                    <p>Calling the <code class=
                    "methodname">CountNumbers()</code> method would
                    print: <code class="literal">Total of numbers
                    read: 5</code></p>
                  </div>
                </div><br class="example-break" />
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2506116" name="id2506116"></a>

                <h2>See Also</h2>

                <table class="simplelist" border="0" summary=
                "Simple list">
                  <tr>
                    <td><code class="code">M:Read</code></td>
                  </tr>
                </table>
              </div>
            </div>

            <div class="refentry" lang="en" xml:lang="en">
              <div class="refentry.separator">
                <hr />
              </div><a id=
              "id_949aedcc71a91cfaf32baaf0fd0f440d37324cb8" name=
              "id_949aedcc71a91cfaf32baaf0fd0f440d37324cb8"></a>

              <div class="titlepage"></div>

              <div class="refnamediv">
                <h2><span class="refentrytitle">lse
                Property</span></h2>

                <p><span class="property">EndOfJson</span> —
                Indicates whether the reader has reached the end of
                a JSON text</p>
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2506161" name="id2506161"></a>

                <h2>Description</h2><code class=
                "synopsis"><span class=
                "modifier">public&nbsp;</span><span class=
                "type">bool&nbsp;</span><span class=
                "property">EndOfJson&nbsp;</span>{ get; }</code>

                <p>This property tells the user if the reader has
                reached the end of a JSON text.</p>

                <p>It can be useful when the input is expected to
                contain two or more pieces of JSON text (i.e.
                arrays or objects) in sequence.</p>
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2506197" name="id2506197"></a>

                <h2>Examples</h2>

                <div class="example">
                  <a id="id2506205" name="id2506205"></a>

                  <p class="title"><b>Example&nbsp;1.4.&nbsp;Using
                  <span class="property">EndOfJson</span></b></p>

                  <div class="example-contents">
                    <p>The following example counts the number of
                    JSON texts read from the same input. It also
                    keeps track of the number of extenal (not
                    nested) arrays and objects.</p>

                    <div class="programlisting">
                      <!-- Generator: GNU source-highlight 2.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
                      <pre>
<tt><span class="preproc">using</span><span class=
"normal"> LitJson</span><span class="symbol">;</span>
<span class="preproc">using</span><span class=
"normal"> System</span><span class="symbol">;</span>

<span class="keyword">class</span><span class=
"normal"> JsonSample</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class=
"keyword">static</span><span class="normal"> </span><span class=
"type">void</span><span class="normal"> </span><span class=
"function">CountJsonTexts </span><span class=
"symbol">(</span><span class="type">string</span><span class=
"normal"> json_data</span><span class="symbol">)</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        JsonReader reader </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"keyword">new</span><span class="normal"> </span><span class=
"function">JsonReader </span><span class=
"symbol">(</span><span class="normal">json_data</span><span class=
"symbol">);</span>

<span class="normal">        </span><span class=
"type">int</span><span class="normal"> n_arrays</span><span class=
"symbol">,</span><span class="normal"> n_objects</span><span class=
"symbol">,</span><span class="normal"> n_total</span><span class=
"symbol">;</span>

<span class="normal">        n_arrays </span><span class=
"symbol">=</span><span class=
"normal"> n_objects </span><span class="symbol">=</span><span class="normal"> n_total </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span>

<span class="normal">        </span><span class=
"keyword">while</span><span class="normal"> </span><span class=
"symbol">(!</span><span class="normal"> reader</span><span class=
"symbol">.</span><span class="normal">EndOfInput</span><span class=
"symbol">)</span><span class="normal"> </span><span class=
"cbracket">{</span>
<span class="normal">            reader</span><span class=
"symbol">.</span><span class="function">Read </span><span class=
"symbol">();</span>

<span class="normal">            </span><span class=
"keyword">if</span><span class="normal"> </span><span class=
"symbol">(</span><span class="normal">reader</span><span class=
"symbol">.</span><span class="normal">EndOfJson</span><span class=
"symbol">)</span><span class="normal"> </span><span class=
"cbracket">{</span>
<span class="normal">                n_total</span><span class=
"symbol">++;</span>

<span class="normal">                </span><span class=
"keyword">if</span><span class="normal"> </span><span class=
"symbol">(</span><span class="normal">reader</span><span class=
"symbol">.</span><span class="normal">Token </span><span class=
"symbol">==</span><span class=
"normal"> JsonToken</span><span class="symbol">.</span><span class=
"normal">ArrayEnd</span><span class="symbol">)</span>
<span class=
"normal">                    n_arrays</span><span class="symbol">++;</span>
<span class="normal">                </span><span class=
"keyword">else</span><span class="normal"> </span><span class=
"keyword">if</span><span class="normal"> </span><span class=
"symbol">(</span><span class="normal">reader</span><span class=
"symbol">.</span><span class="normal">Token </span><span class=
"symbol">==</span><span class=
"normal"> JsonToken</span><span class="symbol">.</span><span class=
"normal">ObjectEnd</span><span class="symbol">)</span>
<span class=
"normal">                    n_objects</span><span class=
"symbol">++;</span>
<span class="normal">            </span><span class=
"cbracket">}</span>
<span class="normal">        </span><span class="cbracket">}</span>

<span class="normal">        Console</span><span class=
"symbol">.</span><span class=
"function">WriteLine </span><span class=
"symbol">(</span><span class=
"string">"Total of JSON texts read: {0}"</span><span class=
"symbol">,</span><span class="normal"> n_total</span><span class=
"symbol">);</span>
<span class="normal">        Console</span><span class=
"symbol">.</span><span class=
"function">WriteLine </span><span class=
"symbol">(</span><span class=
"string">"  Arrays:  {0}"</span><span class=
"symbol">,</span><span class="normal"> n_arrays</span><span class=
"symbol">);</span>
<span class="normal">        Console</span><span class=
"symbol">.</span><span class=
"function">WriteLine </span><span class=
"symbol">(</span><span class=
"string">"  Objects: {0}"</span><span class=
"symbol">,</span><span class="normal"> n_objects</span><span class=
"symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class=
"keyword">static</span><span class="normal"> </span><span class=
"type">void</span><span class="normal"> </span><span class=
"function">Main </span><span class="symbol">()</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        </span><span class=
"type">string</span><span class=
"normal"> json_input </span><span class=
"symbol">=</span><span class="normal"> @</span><span class=
"string">"</span>

<span class=
"string">            [ 0, [ 10, 20, 10 ], 0, [ -10, -20, -10 ], 0 ]</span>
<span class=
"string">            [ ""Roots"", ""Rock"", ""Reggae"" ]</span>

<span class="string">            {</span>
<span class="string">                ""Party"": {</span>
<span class="string">                    ""Type"" : ""Tea"",</span>
<span class=
"string">                    ""Guests"" : [ ""Mad Hatter"", ""March Hare"" ]</span>
<span class="string">                }</span>
<span class="string">            }</span>

<span class="string">        "</span><span class="symbol">;</span>

<span class="normal">        </span><span class=
"function">CountJsonTexts </span><span class=
"symbol">(</span><span class="normal">json_input</span><span class=
"symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span></tt>
</pre>
                    </div>

                    <p>This example would produce the following
                    output:</p>
                    <pre class="screen">
Total of JSON texts read: 3
  Arrays:  2
  Objects: 1
</pre>
                  </div>
                </div><br class="example-break" />
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2507943" name="id2507943"></a>

                <h2>See Also</h2>

                <table class="simplelist" border="0" summary=
                "Simple list">
                  <tr>
                    <td><span class=
                    "property">EndOfInput</span></td>
                  </tr>

                  <tr>
                    <td><code class="code">M:Read</code></td>
                  </tr>
                </table>
              </div>
            </div>

            <div class="refentry" lang="en" xml:lang="en">
              <div class="refentry.separator">
                <hr />
              </div><a id=
              "id_dc07cf627536f44b52d1b1b617abf2ec926bf987" name=
              "id_dc07cf627536f44b52d1b1b617abf2ec926bf987"></a>

              <div class="titlepage"></div>

              <div class="refnamediv">
                <h2><span class="refentrytitle">lse
                Property</span></h2>

                <p><span class="property">Token</span> — Holds the
                last token read from this reader</p>
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2507995" name="id2507995"></a>

                <h2>Description</h2><code class=
                "synopsis"><span class=
                "modifier">public&nbsp;</span><span class=
                "type">JsonToken&nbsp;</span><span class=
                "property">Token&nbsp;</span>{ get; }</code>

                <p>This property indicates the type of token that
                was last read from this reader. For more
                information on the types of token that <code class=
                "classname">JsonReader</code> emits, see
                <code class="classname">JsonToken</code>.</p>
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2508040" name="id2508040"></a>

                <h2>Examples</h2>

                <div class="example">
                  <a id="id2508047" name="id2508047"></a>

                  <p class="title"><b>Example&nbsp;1.5.&nbsp;Using
                  the <span class="property">Token</span>
                  property</b></p>

                  <div class="example-contents">
                    <div class="programlisting">
                      <!-- Generator: GNU source-highlight 2.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
                      <pre>
<tt><span class="preproc">using</span><span class=
"normal"> LitJson</span><span class="symbol">;</span>
<span class="preproc">using</span><span class=
"normal"> System</span><span class="symbol">;</span>

<span class="keyword">class</span><span class=
"normal"> SampleJson</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class=
"keyword">static</span><span class="normal"> </span><span class=
"type">int</span><span class="normal"> </span><span class=
"function">CountStrings </span><span class=
"symbol">(</span><span class="type">string</span><span class=
"normal"> json</span><span class="symbol">)</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        JsonReader reader </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"keyword">new</span><span class="normal"> </span><span class=
"function">JsonReader </span><span class=
"symbol">(</span><span class="normal">json</span><span class=
"symbol">);</span>

<span class="normal">        </span><span class=
"type">int</span><span class=
"normal"> n_strings </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span>

<span class="normal">        </span><span class=
"keyword">while</span><span class="normal"> </span><span class=
"symbol">(</span><span class="normal">reader</span><span class=
"symbol">.</span><span class="function">Read </span><span class=
"symbol">())</span><span class="normal"> </span><span class=
"cbracket">{</span>
<span class="normal">            </span><span class=
"keyword">if</span><span class="normal"> </span><span class=
"symbol">(</span><span class="normal">reader</span><span class=
"symbol">.</span><span class="normal">Token </span><span class=
"symbol">==</span><span class=
"normal"> JsonToken</span><span class="symbol">.</span><span class=
"normal">String</span><span class="symbol">)</span>
<span class="normal">                n_strings</span><span class=
"symbol">++;</span>
<span class="normal">        </span><span class="cbracket">}</span>

<span class="normal">        </span><span class=
"keyword">return</span><span class=
"normal"> n_strings</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class=
"keyword">static</span><span class="normal"> </span><span class=
"type">void</span><span class="normal"> </span><span class=
"function">Main </span><span class="symbol">()</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        </span><span class=
"type">string</span><span class=
"normal"> sample_json </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"string">" [ </span><span class="specialchar">\"</span><span class=
"string">one</span><span class="specialchar">\"</span><span class=
"string">, 2, </span><span class=
"specialchar">\"</span><span class="string">three</span><span class="specialchar">\"</span><span class="string">, 4, </span><span class="specialchar">\"</span><span class="string">five</span><span class="specialchar">\"</span><span class="string"> ] "</span><span class="symbol">;</span>

<span class="normal">        </span><span class=
"type">int</span><span class="normal"> n </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"function">CountStrings </span><span class=
"symbol">(</span><span class=
"normal">sample_json</span><span class="symbol">);</span>
<span class="normal">        Console</span><span class=
"symbol">.</span><span class=
"function">WriteLine </span><span class=
"symbol">(</span><span class=
"string">"There are {0} strings in the JSON text"</span><span class="symbol">,</span><span class="normal"> n</span><span class="symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span></tt>
</pre>
                    </div>

                    <p>This example would output: <code class=
                    "literal">There are 3 strings in the JSON
                    text</code>.</p>
                  </div>
                </div><br class="example-break" />
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2508082" name="id2508082"></a>

                <h2>See Also</h2>

                <table class="simplelist" border="0" summary=
                "Simple list">
                  <tr>
                    <td><code class=
                    "classname">JsonToken</code></td>
                  </tr>
                </table>
              </div>
            </div>

            <div class="refentry" lang="en" xml:lang="en">
              <div class="refentry.separator">
                <hr />
              </div><a id=
              "id_e4f6b2f828e5fe3a94ec4486f78ae47fe9c51b88" name=
              "id_e4f6b2f828e5fe3a94ec4486f78ae47fe9c51b88"></a>

              <div class="titlepage"></div>

              <div class="refnamediv">
                <h2><span class="refentrytitle">lse
                Property</span></h2>

                <p><span class="property">Value</span> — Holds the
                value of the last token read from this reader</p>
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2508132" name="id2508132"></a>

                <h2>Description</h2><code class=
                "synopsis"><span class=
                "modifier">public&nbsp;</span><span class=
                "type">object&nbsp;</span><span class=
                "property">Value&nbsp;</span>{ get; }</code>

                <p>This property holds the last value read, as a
                <code class="classname">System.Object</code>. The
                specific type of this <span class=
                "type">object</span> depends on the token type, as
                specified by the <span class=
                "property">Token</span> property.</p>

                <div class="table">
                  <a id="id2508176" name="id2508176"></a>

                  <p class="title"><b>Table&nbsp;1.1.&nbsp;Real
                  type of <span class=
                  "property">Value</span></b></p>

                  <div class="table-contents">
                    <table summary="Real type of Value" border="1">
                      <colgroup>
                        <col />
                        <col />
                      </colgroup>

                      <thead>
                        <tr>
                          <th><span class=
                          "property">Token</span></th>

                          <th><span class="property">Value</span>
                          type</th>
                        </tr>
                      </thead>

                      <tbody>
                        <tr>
                          <td><code class=
                          "literal">None</code></td>

                          <td>&nbsp;</td>
                        </tr>

                        <tr>
                          <td><code class=
                          "literal">ObjectStart</code></td>

                          <td>&nbsp;</td>
                        </tr>

                        <tr>
                          <td><code class=
                          "literal">PropertyName</code></td>

                          <td><code class=
                          "classname">System.String</code></td>
                        </tr>

                        <tr>
                          <td><code class=
                          "literal">ObjectEnd</code></td>

                          <td>&nbsp;</td>
                        </tr>

                        <tr>
                          <td><code class=
                          "literal">ArrayStart</code></td>

                          <td>&nbsp;</td>
                        </tr>

                        <tr>
                          <td><code class=
                          "literal">ArrayEnd</code></td>

                          <td>&nbsp;</td>
                        </tr>

                        <tr>
                          <td><code class="literal">Int</code></td>

                          <td><code class=
                          "classname">System.Int32</code></td>
                        </tr>

                        <tr>
                          <td><code class=
                          "literal">Long</code></td>

                          <td><code class=
                          "classname">System.Int64</code></td>
                        </tr>

                        <tr>
                          <td><code class=
                          "literal">Double</code></td>

                          <td><code class=
                          "classname">System.Double</code></td>
                        </tr>

                        <tr>
                          <td><code class=
                          "literal">String</code></td>

                          <td><code class=
                          "classname">System.String</code></td>
                        </tr>

                        <tr>
                          <td><code class=
                          "literal">Boolean</code></td>

                          <td><code class=
                          "classname">System.Boolean</code></td>
                        </tr>

                        <tr>
                          <td><code class=
                          "literal">Null</code></td>

                          <td>&nbsp;</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div><br class="table-break" />

                <p>Note that, on those cells where the <span class=
                "property">Value</span> type is not specified, it
                means that there is no value. In that case, this
                property is set to <code class=
                "literal">null</code>.</p>
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2508591" name="id2508591"></a>

                <h2>Examples</h2>

                <div class="example">
                  <a id="id2508598" name="id2508598"></a>

                  <p class="title"><b>Example&nbsp;1.6.&nbsp;Using
                  the <span class="property">Value</span>
                  property</b></p>

                  <div class="example-contents">
                    <div class="programlisting">
                      <!-- Generator: GNU source-highlight 2.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
                      <pre>
<tt><span class="preproc">using</span><span class=
"normal"> LitJson</span><span class="symbol">;</span>
<span class="preproc">using</span><span class=
"normal"> System</span><span class="symbol">;</span>

<span class="keyword">class</span><span class=
"normal"> SampleJson</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class=
"keyword">static</span><span class="normal"> </span><span class=
"type">int</span><span class="normal"> </span><span class=
"function">SumInts </span><span class="symbol">(</span><span class=
"type">string</span><span class="normal"> json</span><span class=
"symbol">)</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        JsonReader reader </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"keyword">new</span><span class="normal"> </span><span class=
"function">JsonReader </span><span class=
"symbol">(</span><span class="normal">json</span><span class=
"symbol">);</span>

<span class="normal">        </span><span class=
"type">int</span><span class="normal"> sum </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"number">0</span><span class="symbol">;</span>

<span class="normal">        </span><span class=
"keyword">while</span><span class="normal"> </span><span class=
"symbol">(</span><span class="normal">reader</span><span class=
"symbol">.</span><span class="function">Read </span><span class=
"symbol">())</span><span class="normal"> </span><span class=
"cbracket">{</span>
<span class="normal">            </span><span class=
"keyword">if</span><span class="normal"> </span><span class=
"symbol">(</span><span class="normal">reader</span><span class=
"symbol">.</span><span class="normal">Value </span><span class=
"keyword">is</span><span class="normal"> Int32</span><span class=
"symbol">)</span>
<span class="normal">                sum </span><span class=
"symbol">+=</span><span class="normal"> </span><span class=
"symbol">(</span><span class="type">int</span><span class=
"symbol">)</span><span class="normal"> reader</span><span class=
"symbol">.</span><span class="normal">Value</span><span class=
"symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>

<span class="normal">        </span><span class=
"keyword">return</span><span class="normal"> sum</span><span class=
"symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class=
"keyword">static</span><span class="normal"> </span><span class=
"type">void</span><span class="normal"> </span><span class=
"function">Main </span><span class="symbol">()</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        </span><span class=
"type">string</span><span class=
"normal"> sample_json </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"string">" [ 1, 3, 5, 7, 11 ] "</span><span class="symbol">;</span>

<span class="normal">        </span><span class=
"type">int</span><span class="normal"> sum </span><span class=
"symbol">=</span><span class="normal"> </span><span class=
"function">SumInts </span><span class="symbol">(</span><span class=
"normal">sample_json</span><span class="symbol">);</span>
<span class="normal">        Console</span><span class=
"symbol">.</span><span class=
"function">WriteLine </span><span class=
"symbol">(</span><span class=
"string">"The sum of the values is {0}"</span><span class=
"symbol">,</span><span class="normal"> sum</span><span class=
"symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span></tt>
</pre>
                    </div>

                    <p>This example would output: <code class=
                    "literal">The sum of the values is
                    27</code>.</p>
                  </div>
                </div><br class="example-break" />
              </div>

              <div class="refsection" lang="en" xml:lang="en">
                <a id="id2508632" name="id2508632"></a>

                <h2>See Also</h2>

                <table class="simplelist" border="0" summary=
                "Simple list">
                  <tr>
                    <td><span class="property">Token</span></td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="part" lang="en" xml:lang="en">
      <div class="titlepage">
        <div>
          <div>
            <h1 class="title"><a id="appendices" name=
            "appendices"></a>Part&nbsp;III.&nbsp;Appendices</h1>
          </div>
        </div>
      </div>

      <div class="toc">
        <p><b>Table of Contents</b></p>

        <dl>
          <dt><span class="appendix"><a href="#appendix.parser">A.
          Parser Implementation</a></span></dt>

          <dd>
            <dl>
              <dt><span class="section"><a href=
              "#appendix.parser.lexer">A.1. Reading
              Tokens</a></span></dt>

              <dd>
                <dl>
                  <dt><span class="section"><a href=
                  "#appendix.parser.lexer.table">A.1.1. State
                  Machine Table</a></span></dt>
                </dl>
              </dd>

              <dt><span class="section"><a href=
              "#appendix.parser.grammar">A.2.
              Grammar</a></span></dt>

              <dd>
                <dl>
                  <dt><span class="section"><a href=
                  "#appendix.parser.grammar.ll">A.2.1. LL(1)
                  Form</a></span></dt>

                  <dt><span class="section"><a href=
                  "#appendix.parser.grammar.first">A.2.2. FIRST(X)
                  sets</a></span></dt>

                  <dt><span class="section"><a href=
                  "#appendix.parser.grammar.follow">A.2.3.
                  FOLLOW(X) sets</a></span></dt>

                  <dt><span class="section"><a href=
                  "#appendix.parser.grammar.table">A.2.4. Parse
                  table</a></span></dt>
                </dl>
              </dd>
            </dl>
          </dd>

          <dt><span class="appendix"><a href=
          "#appendix.benchmarks">B. Performance
          Benchmarks</a></span></dt>

          <dd>
            <dl>
              <dt><span class="section"><a href=
              "#appendix.benchmarks.description">B.1.
              Description</a></span></dt>

              <dd>
                <dl>
                  <dt><span class="section"><a href=
                  "#id2511911">B.1.1. Figures Being
                  Measured</a></span></dt>

                  <dt><span class="section"><a href=
                  "#id2511988">B.1.2. Software Being
                  Measured</a></span></dt>

                  <dt><span class="section"><a href=
                  "#id2512049">B.1.3. Environment</a></span></dt>
                </dl>
              </dd>

              <dt><span class="section"><a href=
              "#appendix.benchmarks.results">B.2.
              Results</a></span></dt>

              <dd>
                <dl>
                  <dt><span class="section"><a href=
                  "#id2512130">B.2.1. Readers</a></span></dt>

                  <dt><span class="section"><a href=
                  "#id2512310">B.2.2. Writers</a></span></dt>

                  <dt><span class="section"><a href=
                  "#id2512474">B.2.3. Importing</a></span></dt>

                  <dt><span class="section"><a href=
                  "#id2512634">B.2.4. Exporting</a></span></dt>
                </dl>
              </dd>
            </dl>
          </dd>
        </dl>
      </div>

      <div class="appendix" lang="en" xml:lang="en">
        <div class="titlepage">
          <div>
            <div>
              <h1 class="title"><a id="appendix.parser" name=
              "appendix.parser"></a>Parser Implementation</h1>
            </div>

            <div>
              <div class="abstract">
                <p class="title"><b>Abstract</b></p>

                <p>LitJSON was built out of a specific need for a
                small JSON library for the .Net framework, but also
                a big motivation was simply the fun of learning a
                little bit about parsing techniques and put some of
                that information into action writing a parser for
                the JSON grammar, which is not very
                complicated.</p>

                <p>This appendix includes some specific details
                about the approach used by the parser. This section
                should clarify some of the internal details of this
                library's source code.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="toc">
          <p><b>Table of Contents</b></p>

          <dl>
            <dt><span class="section"><a href=
            "#appendix.parser.lexer">A.1. Reading
            Tokens</a></span></dt>

            <dd>
              <dl>
                <dt><span class="section"><a href=
                "#appendix.parser.lexer.table">A.1.1. State Machine
                Table</a></span></dt>
              </dl>
            </dd>

            <dt><span class="section"><a href=
            "#appendix.parser.grammar">A.2. Grammar</a></span></dt>

            <dd>
              <dl>
                <dt><span class="section"><a href=
                "#appendix.parser.grammar.ll">A.2.1. LL(1)
                Form</a></span></dt>

                <dt><span class="section"><a href=
                "#appendix.parser.grammar.first">A.2.2. FIRST(X)
                sets</a></span></dt>

                <dt><span class="section"><a href=
                "#appendix.parser.grammar.follow">A.2.3. FOLLOW(X)
                sets</a></span></dt>

                <dt><span class="section"><a href=
                "#appendix.parser.grammar.table">A.2.4. Parse
                table</a></span></dt>
              </dl>
            </dd>
          </dl>
        </div>

        <p>The parser in this library is based on a couple of
        elements: a finite state machine used to recognize tokens,
        and a pushdown automaton that recognizes the grammar of
        JSON text.</p>

        <div class="section" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id=
                "appendix.parser.lexer" name=
                "appendix.parser.lexer"></a>A.1.&nbsp;Reading
                Tokens</h2>
              </div>
            </div>
          </div>

          <p>A finite state machine recognizes tokens from the
          input text, in effect acting as a lexer. It's composed of
          28 states, listed below:</p>

          <div class="orderedlist">
            <ol type="1">
              <li>Default</li>

              <li>Number1</li>

              <li>Number2</li>

              <li>Number3</li>

              <li>Number4</li>

              <li>Number5</li>

              <li>Number6</li>

              <li>Number7</li>

              <li>True1</li>

              <li>True2</li>

              <li>True3</li>

              <li>False1</li>

              <li>False2</li>

              <li>False3</li>

              <li>False4</li>

              <li>Null1</li>

              <li>Null2</li>

              <li>Null3</li>

              <li>String1</li>

              <li>String2</li>

              <li>EscChar1</li>

              <li>EscChar2</li>

              <li>SingleQuotedString1</li>

              <li>SingleQuotedString2</li>

              <li>Comment</li>

              <li>SingleLineComment</li>

              <li>MultiLineComment1</li>

              <li>MultiLineComment2</li>
            </ol>
          </div>

          <p>As you may notice, the lexer is designed to read more
          than just the strict JSON grammar as defined in <a class=
          "link" href=
          "http://www.ietf.org/rfc/rfc4627.txt?number=4627">RFC
          4627</a>. It may also allow comments (the forms
          <code class="literal">//comment</code> and <code class=
          "literal">/*comment*/</code> are supported) and
          single-quoted strings. The library allows the developer
          to configure whether this extensions are accepted or not.
          They are allowed by default.</p>

          <p>A simple table lists which state to go to next
          depending on the current state and the current input
          character.</p>

          <p>Now, the actual handling of the states can do a little
          more than just setting the next state. The following
          flags are used to indicate special information related to
          the actions in a state:</p>

          <div class="variablelist">
            <dl>
              <dt><span class="term">A</span></dt>

              <dd>
                <p>Add char to buffer. A string buffer is kept and
                returned in certain states along with the token ID.
                For example, when reading a number, the entire
                sequence of characters corresponding to the number
                are returned as a string, along with the NUMBER
                token.</p>
              </dd>

              <dt><span class="term">C</span></dt>

              <dd>
                <p>Only accept this state if the lexer is
                configured to allow comments.</p>
              </dd>

              <dt><span class="term">E</span></dt>

              <dd>
                <p>Add the unescaped character to the buffer.</p>
              </dd>

              <dt><span class="term">L</span></dt>

              <dd>
                <p>Leave character unconsumed. This leaves the
                current input character untouched so it is used in
                the next lexer cycle.</p>
              </dd>

              <dt><span class="term">R</span></dt>

              <dd>
                <p>Return. This means that a token has been
                recognized, so the corresponding ID should be
                returned. If the string buffer is not empty, it
                should be returned as well, and then the buffer
                cleared.</p>
              </dd>

              <dt><span class="term">SQ</span></dt>

              <dd>
                <p>Only accept this state if the lexer is
                configured to allow string literals enclosed with
                single-quotes.</p>
              </dd>

              <dt><span class="term">SS</span></dt>

              <dd>
                <p>Stack State. When used as a flag, it indicates
                that the current state number should be put in a
                stack. When used as a state value, it means that
                the next state to go to is the one in the
                stack.</p>
              </dd>

              <dt><span class="term">U</span></dt>

              <dd>
                <p>Unicode escaping sequence. In this state,
                exactly 4 hex characters should be read and, at the
                end, the corresponding unicode character is added
                to the string buffer and the machine continues.</p>
              </dd>
            </dl>
          </div>

          <p>One last thing to notice: the <span class=
          "token">Char</span> token means that the literal input
          character is returned as a token, except when it's a
          single quote (<code class="literal">'</code>), in which
          case the double quote (<code class="literal">"</code>) is
          returned. This is just to simplify things a little bit
          for the grammar parser.</p>

          <div class="section" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id=
                  "appendix.parser.lexer.table" name=
                  "appendix.parser.lexer.table"></a>A.1.1.&nbsp;State
                  Machine Table</h3>
                </div>
              </div>
            </div>

            <div class="table">
              <a id="id2509095" name="id2509095"></a>

              <p class="title"><b>Table&nbsp;A.1.&nbsp;Lexer State
              Machine (part one)</b></p>

              <div class="table-contents">
                <table summary="Lexer State Machine (part one)"
                border="1">
                  <colgroup>
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                  </colgroup>

                  <thead>
                    <tr>
                      <th rowspan="2" align="right">Input</th>

                      <th colspan="15" align="center">State</th>
                    </tr>

                    <tr>
                      <th align="right">1</th>

                      <th align="right">2</th>

                      <th align="right">3</th>

                      <th align="right">4</th>

                      <th align="right">5</th>

                      <th align="right">6</th>

                      <th align="right">7</th>

                      <th align="right">8</th>

                      <th align="right">9</th>

                      <th align="right">10</th>

                      <th align="right">11</th>

                      <th align="right">12</th>

                      <th align="right">13</th>

                      <th align="right">14</th>

                      <th align="right">15</th>
                    </tr>
                  </thead>

                  <tfoot>
                    <tr>
                      <th align="right">Token</th>

                      <th align="right"><span class=
                      "token">Char</span></th>

                      <th align="right">&nbsp;</th>

                      <th align="right"><span class=
                      "token">NUMBER</span></th>

                      <th align="right"><span class=
                      "token">NUMBER</span></th>

                      <th align="right">&nbsp;</th>

                      <th align="right"><span class=
                      "token">NUMBER</span></th>

                      <th align="right">&nbsp;</th>

                      <th align="right"><span class=
                      "token">NUMBER</span></th>

                      <th align="right">&nbsp;</th>

                      <th align="right">&nbsp;</th>

                      <th align="right"><span class=
                      "token">TRUE</span></th>

                      <th align="right">&nbsp;</th>

                      <th align="right">&nbsp;</th>

                      <th align="right">&nbsp;</th>

                      <th align="right"><span class=
                      "token">FALSE</span></th>
                    </tr>
                  </tfoot>

                  <tbody>
                    <tr>
                      <td align="right"><code class=
                      "literal">space</code></td>

                      <td align="right">1</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[R]</code> 1</td>

                      <td align="right"><code class=
                      "literal">[R]</code> 1</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[R]</code> 1</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[R]</code> 1</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">"</code></td>

                      <td align="right"><code class=
                      "literal">[R]</code> 19</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">'</code></td>

                      <td align="right"><code class=
                      "literal">[SQ][R]</code> 23</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">+</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 8</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">[,\]}]</code></td>

                      <td align="right"><code class=
                      "literal">[R]</code> 1</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[L][R]</code> 1</td>

                      <td align="right"><code class=
                      "literal">[L][R]</code> 1</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[L][R]</code> 1</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[L][R]</code> 1</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">-</code></td>

                      <td align="right"><code class=
                      "literal">[A]</code> 2</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 8</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">.</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 5</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 5</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">/</code></td>

                      <td align="right"><code class=
                      "literal">[C]</code> 25</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">0</code></td>

                      <td align="right"><code class=
                      "literal">[A]</code> 4</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 4</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 3</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 6</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 6</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 8</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 8</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">[1-9]</code></td>

                      <td align="right"><code class=
                      "literal">[A]</code> 3</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 3</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 3</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 6</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 6</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 8</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 8</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">:</code></td>

                      <td align="right"><code class=
                      "literal">[R]</code> 1</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">E</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 7</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 7</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 7</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">[\[{]</code></td>

                      <td align="right"><code class=
                      "literal">[R]</code> 1</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">a</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">13</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">e</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 7</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 7</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 7</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[R]</code> 1</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[R]</code> 1</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">f</code></td>

                      <td align="right">12</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">l</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">14</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">n</code></td>

                      <td align="right">16</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">r</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">10</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">s</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">15</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">t</code></td>

                      <td align="right">9</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">u</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">11</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div><br class="table-break" />

            <div class="table">
              <a id="id2510322" name="id2510322"></a>

              <p class="title"><b>Table&nbsp;A.2.&nbsp;Lexer State
              Machine (part two)</b></p>

              <div class="table-contents">
                <table summary="Lexer State Machine (part two)"
                border="1">
                  <colgroup>
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                    <col align="right" />
                  </colgroup>

                  <thead>
                    <tr>
                      <th rowspan="2" align="right">Input</th>

                      <th colspan="13" align="center">State</th>
                    </tr>

                    <tr>
                      <th align="right">16</th>

                      <th align="right">17</th>

                      <th align="right">18</th>

                      <th align="right">19</th>

                      <th align="right">20</th>

                      <th align="right">21</th>

                      <th align="right">22</th>

                      <th align="right">23</th>

                      <th align="right">24</th>

                      <th align="right">25</th>

                      <th align="right">26</th>

                      <th align="right">27</th>

                      <th align="right">28</th>
                    </tr>
                  </thead>

                  <tfoot>
                    <tr>
                      <th align="right">Token</th>

                      <th align="right">&nbsp;</th>

                      <th align="right">&nbsp;</th>

                      <th align="right"><span class=
                      "token">NULL</span></th>

                      <th align="right"><span class=
                      "token">CHARSEQ</span></th>

                      <th align="right"><span class=
                      "token">Char</span></th>

                      <th align="right">&nbsp;</th>

                      <th align="right">&nbsp;</th>

                      <th align="right"><span class=
                      "token">CHARSEQ</span></th>

                      <th align="right"><span class=
                      "token">Char</span></th>

                      <th align="right">&nbsp;</th>

                      <th align="right">&nbsp;</th>

                      <th align="right">&nbsp;</th>

                      <th align="right">&nbsp;</th>
                    </tr>
                  </tfoot>

                  <tbody>
                    <tr>
                      <td align="right"><code class=
                      "literal">\n</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">1</td>

                      <td align="right">27</td>

                      <td align="right">27</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">"</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[L][R]</code> 20</td>

                      <td align="right"><code class=
                      "literal">[R]</code> 1</td>

                      <td align="right"><code class=
                      "literal">[E]</code> SS</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 23</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">26</td>

                      <td align="right">27</td>

                      <td align="right">27</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">'</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 19</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[E]</code> SS</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[L][R]</code> 24</td>

                      <td align="right"><code class=
                      "literal">[R]</code> 1</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">26</td>

                      <td align="right">27</td>

                      <td align="right">27</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">*</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">27</td>

                      <td align="right">26</td>

                      <td align="right">28</td>

                      <td align="right">28</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">/</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 19</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[E]</code> SS</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 23</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">26</td>

                      <td align="right">26</td>

                      <td align="right">27</td>

                      <td align="right">1</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">[0-9A-Facde]</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 19</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[U]</code> SS</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 23</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">26</td>

                      <td align="right">27</td>

                      <td align="right">27</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">\</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[SS]</code> 21</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[E]</code> SS</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[SS]</code> 21</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">26</td>

                      <td align="right">27</td>

                      <td align="right">27</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">[bf]</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 19</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[E]</code> SS</td>

                      <td align="right"><code class=
                      "literal">[U]</code> SS</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 23</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">26</td>

                      <td align="right">27</td>

                      <td align="right">27</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">l</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">18</td>

                      <td align="right"><code class=
                      "literal">[R]</code> 1</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 19</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 23</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">26</td>

                      <td align="right">27</td>

                      <td align="right">27</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">[nrt]</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 19</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[E]</code> SS</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 23</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">26</td>

                      <td align="right">27</td>

                      <td align="right">27</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">u</code></td>

                      <td align="right">17</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 19</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">22</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 23</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">26</td>

                      <td align="right">27</td>

                      <td align="right">27</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">other</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 19</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">[A]</code> 23</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">26</td>

                      <td align="right">27</td>

                      <td align="right">27</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div><br class="table-break" />
          </div>
        </div>

        <div class="section" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id=
                "appendix.parser.grammar" name=
                "appendix.parser.grammar"></a>A.2.&nbsp;Grammar</h2>
              </div>
            </div>
          </div>

          <p>Since the lexer handles most of the hairy stuff
          (returning it as terminals), the resulting grammar deals
          mainly with the recursive portions.</p>

          <div class="section" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id=
                  "appendix.parser.grammar.ll" name=
                  "appendix.parser.grammar.ll"></a>A.2.1.&nbsp;LL(1)
                  Form</h3>
                </div>
              </div>
            </div>
            <pre class="literallayout">
Text<sub>S</sub> -&gt; Object
       | Array

Object  -&gt; { Object'
Object' -&gt; }
         | Pair PairRest }

PairRest -&gt; ε
          | , Pair PairRest
Pair     -&gt; String : Value

Array     -&gt; [ Array'
Array'    -&gt; ]
           | Value ValueRest ]
ValueRest -&gt; ε
           | , Value ValueRest

Value -&gt; String
       | Object
       | Array
       | NUMBER
       | TRUE
       | FALSE
       | NULL

String -&gt; " CHARSEQ "
      
</pre>
          </div>

          <div class="section" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id=
                  "appendix.parser.grammar.first" name=
                  "appendix.parser.grammar.first"></a>A.2.2.&nbsp;FIRST(X)
                  sets</h3>
                </div>
              </div>
            </div>

            <div class="table">
              <a id="id2511135" name="id2511135"></a>

              <p class="title"><b>Table&nbsp;A.3.&nbsp;Grammar
              FIRST(X) sets</b></p>

              <div class="table-contents">
                <table summary="Grammar FIRST(X) sets" border="1">
                  <colgroup>
                    <col />
                    <col />
                  </colgroup>

                  <thead>
                    <tr>
                      <th>Rule</th>

                      <th>FIRST set</th>
                    </tr>
                  </thead>

                  <tbody>
                    <tr>
                      <td>Array</td>

                      <td><code class="literal">[</code></td>
                    </tr>

                    <tr>
                      <td>Array'</td>

                      <td><code class="literal">] " { [ NUMBER TRUE
                      FALSE NULL</code></td>
                    </tr>

                    <tr>
                      <td>Object</td>

                      <td><code class="literal">{</code></td>
                    </tr>

                    <tr>
                      <td>Object'</td>

                      <td><code class="literal">} "</code></td>
                    </tr>

                    <tr>
                      <td>Pair</td>

                      <td><code class="literal">"</code></td>
                    </tr>

                    <tr>
                      <td>PairRest</td>

                      <td><code class="literal">ε ,</code></td>
                    </tr>

                    <tr>
                      <td>String</td>

                      <td><code class="literal">"</code></td>
                    </tr>

                    <tr>
                      <td>Text</td>

                      <td><code class="literal">{ [</code></td>
                    </tr>

                    <tr>
                      <td>Value</td>

                      <td><code class="literal">" { [ NUMBER TRUE
                      FALSE NULL</code></td>
                    </tr>

                    <tr>
                      <td>ValueRest</td>

                      <td><code class="literal">ε ,</code></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div><br class="table-break" />
          </div>

          <div class="section" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id=
                  "appendix.parser.grammar.follow" name=
                  "appendix.parser.grammar.follow"></a>A.2.3.&nbsp;FOLLOW(X)
                  sets</h3>
                </div>
              </div>
            </div>

            <p>Note: <code class="literal">$</code> is the end of
            input marker</p>

            <div class="table">
              <a id="id2511290" name="id2511290"></a>

              <p class="title"><b>Table&nbsp;A.4.&nbsp;Grammar
              FOLLOW(X) sets</b></p>

              <div class="table-contents">
                <table summary="Grammar FOLLOW(X) sets" border="1">
                  <colgroup>
                    <col />
                    <col />
                  </colgroup>

                  <thead>
                    <tr>
                      <th>Rule</th>

                      <th>FOLLOW set</th>
                    </tr>
                  </thead>

                  <tbody>
                    <tr>
                      <td>Array</td>

                      <td><code class="literal">$ , ] }</code></td>
                    </tr>

                    <tr>
                      <td>Array'</td>

                      <td><code class="literal">$</code></td>
                    </tr>

                    <tr>
                      <td>CharList</td>

                      <td><code class="literal">"</code></td>
                    </tr>

                    <tr>
                      <td>Object</td>

                      <td><code class="literal">$ , ] }</code></td>
                    </tr>

                    <tr>
                      <td>Object'</td>

                      <td><code class="literal">$</code></td>
                    </tr>

                    <tr>
                      <td>Pair</td>

                      <td><code class="literal">, }</code></td>
                    </tr>

                    <tr>
                      <td>PairRest</td>

                      <td><code class="literal">}</code></td>
                    </tr>

                    <tr>
                      <td>String</td>

                      <td><code class="literal">: , ] }</code></td>
                    </tr>

                    <tr>
                      <td>Text</td>

                      <td><code class="literal">$</code></td>
                    </tr>

                    <tr>
                      <td>Value</td>

                      <td><code class="literal">, ] }</code></td>
                    </tr>

                    <tr>
                      <td>ValueRest</td>

                      <td><code class="literal">]</code></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div><br class="table-break" />
          </div>

          <div class="section" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id=
                  "appendix.parser.grammar.table" name=
                  "appendix.parser.grammar.table"></a>A.2.4.&nbsp;Parse
                  table</h3>
                </div>
              </div>
            </div>

            <div class="table">
              <a id="id2511448" name="id2511448"></a>

              <p class="title"><b>Table&nbsp;A.5.&nbsp;Parse
              Table</b></p>

              <div class="table-contents">
                <table summary="Parse Table" border="1">
                  <colgroup>
                    <col />
                    <col />
                    <col />
                    <col />
                    <col />
                    <col />
                    <col />
                    <col />
                    <col />
                    <col />
                    <col />
                  </colgroup>

                  <thead>
                    <tr>
                      <th align="right">Input Token</th>

                      <th align="right">Array</th>

                      <th align="right">Array'</th>

                      <th align="right">Object</th>

                      <th align="right">Object'</th>

                      <th align="right">Pair</th>

                      <th align="right">PairRest</th>

                      <th align="right">String</th>

                      <th align="right">Text</th>

                      <th align="right">Value</th>

                      <th align="right">ValueRest</th>
                    </tr>
                  </thead>

                  <tbody>
                    <tr>
                      <td align="right"><code class=
                      "literal">"</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">Value ValueRest
                      <code class="literal">]</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">Pair PairRest <code class=
                      "literal">}</code></td>

                      <td align="right">String <code class=
                      "literal">:</code> Value</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class="literal">"
                      CHARSEQ "</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">String</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">,</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">,</code> Pair PairRest</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">,</code> Value ValueRest</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">[</code></td>

                      <td align="right"><code class=
                      "literal">[</code> Array'</td>

                      <td align="right">Value ValueRest
                      <code class="literal">]</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">Array</td>

                      <td align="right">Array</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">]</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">]</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">ε</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">{</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">Value ValueRest
                      <code class="literal">]</code></td>

                      <td align="right"><code class=
                      "literal">{</code> Object'</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">Object</td>

                      <td align="right">Object</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">}</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">}</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">ε</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">NUMBER</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">Value ValueRest
                      <code class="literal">]</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">NUMBER</code></td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">TRUE</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">Value ValueRest
                      <code class="literal">]</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">TRUE</code></td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">FALSE</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">Value ValueRest
                      <code class="literal">]</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">FALSE</code></td>

                      <td align="right">&nbsp;</td>
                    </tr>

                    <tr>
                      <td align="right"><code class=
                      "literal">NULL</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">Value ValueRest
                      <code class="literal">]</code></td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right">&nbsp;</td>

                      <td align="right"><code class=
                      "literal">NULL</code></td>

                      <td align="right">&nbsp;</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div><br class="table-break" />
          </div>
        </div>
      </div>

      <div class="appendix" lang="en" xml:lang="en">
        <div class="titlepage">
          <div>
            <div>
              <h1 class="title"><a id="appendix.benchmarks" name=
              "appendix.benchmarks"></a>Performance Benchmarks</h1>
            </div>

            <div>
              <div class="abstract">
                <p class="title"><b>Abstract</b></p>

                <p>One of the main design goals of LitJSON is to be
                a small and fast library.</p>

                <p>This doesn't mean that it should perform every
                operation as fast as possible down to the last
                nano-second (which would be a pointless exercise
                anyway). However, a set of simple benchmarks to
                keep track of its performance as the library grows,
                and to compare it against other JSON libraries for
                .Net does serve a useful purpose. In simple terms,
                a set of benchmarks has been created to make sure
                LitJSON's performance doesn't suck.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="toc">
          <p><b>Table of Contents</b></p>

          <dl>
            <dt><span class="section"><a href=
            "#appendix.benchmarks.description">B.1.
            Description</a></span></dt>

            <dd>
              <dl>
                <dt><span class="section"><a href=
                "#id2511911">B.1.1. Figures Being
                Measured</a></span></dt>

                <dt><span class="section"><a href=
                "#id2511988">B.1.2. Software Being
                Measured</a></span></dt>

                <dt><span class="section"><a href=
                "#id2512049">B.1.3. Environment</a></span></dt>
              </dl>
            </dd>

            <dt><span class="section"><a href=
            "#appendix.benchmarks.results">B.2.
            Results</a></span></dt>

            <dd>
              <dl>
                <dt><span class="section"><a href=
                "#id2512130">B.2.1. Readers</a></span></dt>

                <dt><span class="section"><a href=
                "#id2512310">B.2.2. Writers</a></span></dt>

                <dt><span class="section"><a href=
                "#id2512474">B.2.3. Importing</a></span></dt>

                <dt><span class="section"><a href=
                "#id2512634">B.2.4. Exporting</a></span></dt>
              </dl>
            </dd>
          </dl>
        </div>

        <div class="section" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id=
                "appendix.benchmarks.description" name=
                "appendix.benchmarks.description"></a>B.1.&nbsp;Description</h2>
              </div>
            </div>
          </div>

          <div class="section" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="id2511911" name=
                  "id2511911"></a>B.1.1.&nbsp;Figures Being
                  Measured</h3>
                </div>
              </div>
            </div>

            <p>In an attempt to keep the benchmarks useful and
            organised, different binaries are created, each one
            with its own set of micro-benchmarks measuring
            different features of the libraries.</p>

            <p>The benchmarks are split in 4 main categories:</p>

            <div class="itemizedlist">
              <ul type="disc">
                <li>
                  <p>Readers.</p>
                </li>

                <li>
                  <p>Writers.</p>
                </li>

                <li>
                  <p>Importing data into objects.</p>
                </li>

                <li>
                  <p>Exporting data from objects.</p>
                </li>
              </ul>
            </div>

            <p>Aditionally, information about heap memory used is
            gathered using <a class="link" href=
            "http://www.mono-project.com/HeapBuddy">heap-buddy</a>.</p>

            <p>The complete source code of the benchmarks can be
            found under the <code class=
            "filename">benchmarks</code> directory included in the
            library's source tree. More information about this code
            is included in the <code class="filename">README</code>
            file under that directory.</p>
          </div>

          <div class="section" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="id2511988" name=
                  "id2511988"></a>B.1.2.&nbsp;Software Being
                  Measured</h3>
                </div>
              </div>
            </div>

            <p>The benchmarks included test related capabilities of
            the following .Net libraries:</p>

            <div class="itemizedlist">
              <ul type="disc">
                <li>
                  <p><a class="link" href=
                  "http://jayrock.berlios.de/">Jayrock</a> version
                  0.9.8316.</p>
                </li>

                <li>
                  <p><a class="link" href=
                  "http://litjson.sourceforge.net/">LitJSON</a>
                  version 0.3.0.</p>
                </li>

                <li>
                  <p><a class="link" href=
                  "http://www.newtonsoft.com/products/json/">Newtonsoft
                  Json.NET</a> version 1.1.</p>
                </li>
              </ul>
            </div>

            <p>Much gratitude goes out to the developers of Jayrock
            and Json.NET for their excellent work, and, needless to
            say, LitJSON wouldn't be what it is now without
            them.</p>
          </div>

          <div class="section" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="id2512049" name=
                  "id2512049"></a>B.1.3.&nbsp;Environment</h3>
                </div>
              </div>
            </div>

            <p>It is important to notice that, although benchmarks
            like these can show trends in performance and help the
            developers notice when something goes notably wrong, in
            general they are not meant to produce conclusive
            results in general.</p>

            <p>For this reason, every number presented here is a
            relative figure, that depends on a number of variables
            (hardware, operating system, runtime, system load,
            etc.) Also notice that different libraries may have
            been designed with different purposes in mind, so
            benchmark suites that only focus on a common subset of
            functionality, like this one, don't present the full
            picture to the potential developer that is deciding
            whether to use a given tool or not.</p>

            <p>These benchmarks have been run while trying to keep
            the environment as consistent as possible. The machine
            used is an old Pentium III, running Linux 2.6.19. The
            binaries are executed using Mono 1.2.4.</p>
          </div>
        </div>

        <div class="section" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id=
                "appendix.benchmarks.results" name=
                "appendix.benchmarks.results"></a>B.2.&nbsp;Results</h2>
              </div>

              <div>
                <div class="abstract">
                  <p class="title"><b>Abstract</b></p>

                  <p>The results below are presented in the
                  form</p>
                  <pre class="literallayout">
Benchmarking type <em class="replaceable"><code>TYPE</code></em>
  <em class="replaceable"><code>TEST</code></em> <em class=
"replaceable"><code>TIME</code></em>
          
</pre>

                  <p>where <em class=
                  "replaceable"><code>TEST</code></em> is the name
                  of the specific micro-benchmark, and <em class=
                  "replaceable"><code>TIME</code></em> is the
                  amount of time spent running the benchmark a
                  constant number of times. The number of
                  iterations used was 10000.</p>
                </div>
              </div>
            </div>
          </div>

          <div class="section" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="id2512130" name=
                  "id2512130"></a>B.2.1.&nbsp;Readers</h3>
                </div>
              </div>
            </div>

            <p>The benchmarks implemented are:</p>

            <div class="variablelist">
              <dl>
                <dt><span class="term">ReaderNumbers</span></dt>

                <dd>
                  <p>Using a reader class (<code class=
                  "classname">JsonTextReader</code> in Jayrock,
                  <code class="classname">JsonReader</code> in
                  LitJSON and Json.NET), read the following
                  input:</p>

                  <div class="programlisting">
                    <!-- Generator: GNU source-highlight 2.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
                    <pre>
<tt><span class="symbol">[</span>
<span class="normal">    </span><span class=
"number">42</span><span class="symbol">,</span>
<span class="normal">    </span><span class=
"number">1</span><span class="symbol">,</span>
<span class="normal">    </span><span class=
"number">1</span><span class="symbol">,</span>
<span class="normal">    </span><span class=
"number">2</span><span class="symbol">,</span>
<span class="normal">    </span><span class=
"number">3</span><span class="symbol">,</span>
<span class="normal">    </span><span class=
"number">5</span><span class="symbol">,</span>
<span class="normal">    </span><span class=
"number">8</span><span class="symbol">,</span>
<span class="normal">    </span><span class=
"symbol">-</span><span class="number">50</span><span class=
"symbol">,</span>
<span class="normal">    </span><span class=
"symbol">-</span><span class="number">678.56</span><span class=
"symbol">,</span>
<span class="normal">    </span><span class=
"number">3.1415</span><span class="symbol">,</span>
<span class="normal">    </span><span class=
"number">1.4e10</span><span class="symbol">,</span>
<span class="normal">    </span><span class=
"number">4.0e5</span><span class="symbol">,</span>
<span class="normal">    </span><span class="number">8.0e-3</span>
<span class="symbol">]</span></tt>
</pre>
                  </div>
                </dd>

                <dt><span class="term">ReaderStrings</span></dt>

                <dd>
                  <p>Using a reader class, the following input is
                  read:</p>

                  <div class="programlisting">
                    <!-- Generator: GNU source-highlight 2.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
                    <pre>
<tt><span class="symbol">[</span>
<span class="normal">    </span><span class=
"string">"Hello World!"</span><span class="symbol">,</span>
<span class="normal">    </span><span class=
"string">"The quick brown fox jumps over the lazy dog"</span><span class="symbol">,</span>
<span class="normal">    </span><span class=
"string">"Lorem ipsum dolor sit amet, consectetur adipisicing elit"</span><span class="symbol">,</span><span class="normal">  </span><span class="comment">// .. more text</span>
<span class="normal">    </span><span class=
"string">"$%&amp;'()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[</span><span class="specialchar">\\</span><span class="string">]^"</span>
<span class="symbol">]</span></tt>
</pre>
                  </div>
                </dd>

                <dt><span class=
                "term">ReaderFirstProperty</span></dt>

                <dd>
                  <p>Given the following input:</p>

                  <div class="programlisting">
                    <!-- Generator: GNU source-highlight 2.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
                    <pre>
<tt><span class="cbracket">{</span>
<span class="normal">    </span><span class=
"string">"Image"</span><span class="symbol">:</span><span class=
"normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class=
"string">"FirstProperty"</span><span class=
"symbol">:</span><span class="normal"> </span><span class=
"keyword">true</span><span class="symbol">,</span>
<span class="normal">        </span><span class=
"string">"Width"</span><span class="symbol">:</span><span class=
"normal">  </span><span class="number">800</span><span class=
"symbol">,</span>
<span class="normal">        </span><span class=
"string">"Height"</span><span class="symbol">:</span><span class=
"normal"> </span><span class="number">600</span><span class=
"symbol">,</span>
<span class="normal">        </span><span class=
"string">"Title"</span><span class="symbol">:</span><span class=
"normal">  </span><span class=
"string">"View from 15th Floor"</span><span class="symbol">,</span>
<span class="normal">        </span><span class=
"string">"Comment"</span><span class="symbol">:</span><span class=
"normal"> </span><span class=
"string">"Sample text:</span><span class=
"specialchar">\t\"</span><span class=
"string">abcdef</span><span class=
"specialchar">\"\n</span><span class=
"string">Second Line"</span><span class="symbol">,</span>
<span class="normal">        </span><span class=
"string">"Comment2"</span><span class="symbol">:</span><span class=
"normal"> </span><span class="string">"</span><span class=
"specialchar">\u</span><span class="string">03c0</span><span class=
"specialchar">\u</span><span class="string">03c1</span><span class=
"specialchar">\u</span><span class="string">03cc</span><span class=
"specialchar">\u</span><span class="string">03b3</span><span class=
"specialchar">\u</span><span class="string">03c1</span><span class=
"specialchar">\u</span><span class="string">03b1</span><span class=
"specialchar">\u</span><span class="string">03bc</span><span class=
"specialchar">\u</span><span class="string">03bc</span><span class=
"specialchar">\u</span><span class=
"string">03b1"</span><span class="symbol">,</span>
<span class="normal">        </span><span class=
"string">"Default"</span><span class="symbol">:</span><span class=
"normal"> </span><span class="keyword">true</span><span class=
"symbol">,</span>
<span class="normal">        </span><span class=
"string">"Active"</span><span class="symbol">:</span><span class=
"normal"> </span><span class="keyword">false</span><span class=
"symbol">,</span>
<span class="normal">        </span><span class=
"string">"Resource"</span><span class="symbol">:</span><span class=
"normal"> </span><span class="keyword">null</span><span class=
"symbol">,</span>
<span class="normal">        </span><span class=
"string">"Thumbnail"</span><span class=
"symbol">:</span><span class="normal"> </span><span class=
"cbracket">{</span>
<span class="normal">            </span><span class=
"string">"Url"</span><span class="symbol">:</span><span class=
"normal">    </span><span class=
"string">"http://www.example.com/image/481989943"</span><span class="symbol">,</span>
<span class="normal">            </span><span class=
"string">"Height"</span><span class="symbol">:</span><span class=
"normal"> </span><span class="number">125</span><span class=
"symbol">,</span>
<span class="normal">            </span><span class=
"string">"Width"</span><span class="symbol">:</span><span class=
"normal">  </span><span class="string">"100"</span><span class=
"normal"> </span><span class="cbracket">}</span><span class=
"symbol">,</span>
<span class="normal">        </span><span class=
"string">"IDs"</span><span class="symbol">:</span><span class=
"normal"> </span><span class="symbol">[</span><span class=
"normal"> </span><span class="number">116</span><span class=
"symbol">,</span><span class="normal"> </span><span class=
"number">943</span><span class="symbol">,</span><span class=
"normal"> </span><span class="number">234</span><span class=
"symbol">,</span><span class="normal"> </span><span class=
"number">38793</span><span class="normal"> </span><span class=
"symbol">],</span>
<span class="normal">        </span><span class=
"string">"Score"</span><span class="symbol">:</span><span class=
"normal"> </span><span class="number">9.40</span><span class=
"symbol">,</span>
<span class="normal">        </span><span class=
"string">"Scale"</span><span class="symbol">:</span><span class=
"normal"> </span><span class="number">1.0e-1</span><span class=
"symbol">,</span>
<span class="normal">        </span><span class=
"string">"Views"</span><span class="symbol">:</span><span class=
"normal"> </span><span class="number">3000000000</span><span class=
"symbol">,</span>
<span class="normal">        </span><span class=
"string">"LastProperty"</span><span class=
"symbol">:</span><span class="normal"> </span><span class=
"keyword">true</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span></tt>
</pre>
                  </div>

                  <p>A reader is created and tokens are read until
                  the <code class="literal">"FirstProperty"</code>
                  element is found.</p>
                </dd>

                <dt><span class=
                "term">ReaderLastProperty</span></dt>

                <dd>
                  <p>Given the same input as the last benchmark, a
                  reader is created and tokens are read until
                  <code class="literal">"LastProperty"</code> is
                  found.</p>
                </dd>
              </dl>
            </div>

            <p>The results:</p>
            <pre class="screen">
Benchmarking type BenchmarkJayrock
  JayrockReaderNumbers 00:00:01.9310770
  JayrockReaderStrings 00:00:01.7263010
  JayrockReaderFirstProperty 00:00:00.5530070
  JayrockReaderLastProperty 00:00:04.2311710

Benchmarking type BenchmarkLitJson
  LitJsonReaderNumbers 00:00:01.4522950
  LitJsonReaderStrings 00:00:01.7806950
  LitJsonReaderFirstProperty 00:00:00.3135730
  LitJsonReaderLastProperty 00:00:03.4958360

Benchmarking type BenchmarkNewtonsoft
  NewtonsoftReaderNumbers 00:00:02.6169990
  NewtonsoftReaderStrings 00:00:02.3476750
  NewtonsoftReaderFirstProperty 00:00:01.1853270
  NewtonsoftReaderLastProperty 00:00:03.5655060
</pre>

            <p>Heap memory usage:</p>
            <pre class="screen">
SUMMARY                         
                                           
         Filename: BmJayrockReader-heap.out
  Allocated Bytes: 132.3M                  
Allocated Objects: 2511436                 
              GCs: 980                     
          Resizes: 5                       
  Final heap size: 468k                    
                                           
   Distinct Types: 81                      
       Backtraces: 565                     


           SUMMARY                         
                                           
         Filename: BmLitJsonReader-heap.out
  Allocated Bytes: 65.4M                   
Allocated Objects: 1251602                 
              GCs: 479                     
          Resizes: 5                       
  Final heap size: 472k                    
                                           
   Distinct Types: 92                      
       Backtraces: 671


           SUMMARY                            
                                              
         Filename: BmNewtonsoftReader-heap.out
  Allocated Bytes: 353.5M                     
Allocated Objects: 1361535                    
              GCs: 3122                       
          Resizes: 5                          
  Final heap size: 476k                       
                                              
   Distinct Types: 81                         
       Backtraces: 527
</pre>
          </div>

          <div class="section" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="id2512310" name=
                  "id2512310"></a>B.2.2.&nbsp;Writers</h3>
                </div>
              </div>
            </div>

            <p>The benchmarks implemented are:</p>

            <div class="variablelist">
              <dl>
                <dt><span class="term">WriterNumbers</span></dt>

                <dd>
                  <p>Using a writer object (<code class=
                  "classname">JsonTextWriter</code> in Jayrock,
                  <code class="classname">JsonWriter</code> in
                  LitJSON and Json.NET), write the following
                  numbers in an array:</p>
                  <pre class="literallayout">
0.0,
10.0,
3.1416,
0.0000001,
-789.123,
0.00056,
50000000000.0
0,
42,
100000,
-1,
-123,
7777,
25
            
</pre>
                </dd>

                <dt><span class="term">WriterObjects</span></dt>

                <dd>
                  <p>Using a writer, write the following
                  information:</p>
                  <pre class="literallayout">
'[', null,
'{', null,
'P', "precision",
'S', "zip",
'P', "Latitude",
'D', 37.7668,
'P', "Longitude",
'D', -122.3959,
'P', "Address",
'S', "",
'P', "City",
'S', "SAN FRANCISCO",
'P', "State",
'S', "CA",
'P', "Zip",
'S', "94107",
'P', "Country",
'S', "US",
'P', "Visited",
'B', true,
'P', "Ref",
'N', null,
'P', "Comment",
'S', "This is a \"comment\"\tColumn2\nLine2. " +
    "\u00c6nema is a good album.",
'}', null,

'{', null,
'P', "precision",
'S', "zip",
'P', "Latitude",
'D', 37.371991,
'P', "Longitude",
'D', -122.026020,
'P', "Address",
'S', "",
'P', "City",
'S', "SUNNYVALE",
'P', "State",
'S', "CA",
'P', "Zip",
'S', "94085",
'P', "Country",
'S', "US",
'P', "Visited",
'B', false,
'P', "Ref",
'N', null,
'}', null,
']', null
              
</pre>

                  <p>This information is processed in pairs, the
                  first item indicates the type of token to write:
                  <code class="literal">{</code>, <code class=
                  "literal">}</code>, <code class=
                  "literal">[</code> and <code class=
                  "literal">]</code> for opening/closing objects
                  and arrays, <code class="literal">P</code> for
                  properties, <code class="literal">S</code> for
                  strings, <code class="literal">B</code> for
                  booleans, <code class="literal">D</code> for
                  double numbers and <code class="literal">N</code>
                  for <code class="literal">null</code>.</p>
                </dd>
              </dl>
            </div>

            <p>The results:</p>
            <pre class="screen">
Benchmarking type BenchmarkJayrock
  JayrockWriterNumbers 00:00:10.7310150
  JayrockWriterObjects 00:00:08.8977730

Benchmarking type BenchmarkLitJson
  LitJsonWriterNumbers 00:00:10.6846000
  LitJsonWriterObjects 00:00:08.4647110

Benchmarking type BenchmarkNewtonsoft
  NewtonsoftWriterNumbers 00:00:10.6271730
  NewtonsoftWriterObjects 00:00:08.4410420
</pre>

            <p>Heap memory usage:</p>
            <pre class="screen">
SUMMARY                         
                                           
         Filename: BmJayrockWriter-heap.out
  Allocated Bytes: 88.8M                   
Allocated Objects: 1890928                 
              GCs: 671                     
          Resizes: 5                       
  Final heap size: 468k                    
                                           
   Distinct Types: 64                      
       Backtraces: 419                     


           SUMMARY                         
                                           
         Filename: BmLitJsonWriter-heap.out
  Allocated Bytes: 70.0M                   
Allocated Objects: 1320942                 
              GCs: 543                     
          Resizes: 5                       
  Final heap size: 468k                    
                                           
   Distinct Types: 66                      
       Backtraces: 434


           SUMMARY                            
                                              
         Filename: BmNewtonsoftWriter-heap.out
  Allocated Bytes: 74.0M                      
Allocated Objects: 1470936                    
              GCs: 563                        
          Resizes: 5                          
  Final heap size: 468k                       
                                              
   Distinct Types: 64                         
       Backtraces: 422
</pre>
          </div>

          <div class="section" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="id2512474" name=
                  "id2512474"></a>B.2.3.&nbsp;Importing</h3>
                </div>
              </div>
            </div>

            <p>These benchmarks receive the following as input:</p>

            <div class="programlisting">
              <!-- Generator: GNU source-highlight 2.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
              <pre>
<tt><span class="cbracket">{</span>
<span class="normal">    </span><span class=
"string">"Name"</span><span class="normal">    </span><span class=
"symbol">:</span><span class="normal"> </span><span class=
"string">"Art Vandelay"</span><span class="symbol">,</span>
<span class="normal">    </span><span class=
"string">"Age"</span><span class="normal">     </span><span class=
"symbol">:</span><span class="normal"> </span><span class=
"number">30</span><span class="symbol">,</span>
<span class="normal">    </span><span class=
"string">"Height"</span><span class="normal">  </span><span class=
"symbol">:</span><span class="normal"> </span><span class=
"number">1.65</span><span class="symbol">,</span>
<span class="normal">    </span><span class=
"string">"Retired"</span><span class="normal"> </span><span class=
"symbol">:</span><span class="normal"> </span><span class=
"keyword">false</span><span class="symbol">,</span>
<span class="normal">    </span><span class=
"string">"Urls"</span><span class="normal">    </span><span class=
"symbol">:</span><span class="normal"> </span><span class=
"symbol">[</span>
<span class="normal">        </span><span class=
"string">"http://example.com/artvandelay"</span><span class=
"symbol">,</span>
<span class="normal">        </span><span class=
"string">"http://artvandelay.org/"</span><span class=
"normal"> </span><span class="symbol">],</span>

<span class="normal">    </span><span class=
"string">"Job"</span><span class="normal"> </span><span class=
"symbol">:</span><span class="normal"> </span><span class=
"cbracket">{</span>
<span class="normal">        </span><span class=
"string">"Title"</span><span class=
"normal">       </span><span class="symbol">:</span><span class=
"normal"> </span><span class=
"string">"Importer/Exporter"</span><span class="symbol">,</span>
<span class="normal">        </span><span class=
"string">"Description"</span><span class=
"normal"> </span><span class="symbol">:</span><span class=
"normal"> </span><span class=
"string">"import matches... long matches"</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span></tt>
</pre>
            </div>

            <p>The benchmarks implemented are:</p>

            <div class="variablelist">
              <dl>
                <dt><span class=
                "term">ConversionToGenericObject</span></dt>

                <dd>
                  <p>Using the specific API to import JSON data
                  (<code class=
                  "methodname">JsonConvert.Import()</code> in
                  Jayrock, <code class=
                  "methodname">JsonMapper.ToObject()</code> in
                  LitJSON and <code class=
                  "methodname">JavaScriptConvert.DeserializeObject()</code>
                  in Json.NET), the input data is imported into a
                  general-purpose data type defined by the library:
                  <code class="classname">JsonObject</code> in
                  Jayrock, <code class="classname">JsonData</code>
                  in LitJSON and <code class=
                  "classname">JavaScriptObject</code> in
                  Json.NET.</p>
                </dd>

                <dt><span class=
                "term">ConversionToHashtable</span></dt>

                <dd>
                  <p>Import the input JSON into an object of type
                  <code class=
                  "classname">System.Collections.Hashtable</code>.
                  Unfortunately, Jayrock doesn't seem to be able to
                  perform this conversion, so it's not included in
                  the results. Notice that this also affects the
                  heap memory usage results (Jayrock's summary
                  corresponds to running 2 of the 3
                  benchmarks).</p>
                </dd>

                <dt><span class=
                "term">ConversionToObject</span></dt>

                <dd>
                  <p>A custom <code class="classname">Person</code>
                  class is used to import the input data.</p>
                </dd>
              </dl>
            </div>

            <p>The results:</p>
            <pre class="screen">
Benchmarking type BenchmarkJayrock
  JayrockConversionToGenericObject 00:00:03.8663690
  JayrockConversionToObject 00:00:12.6593170

Benchmarking type BenchmarkLitJson
  LitJsonConversionToGenericObject 00:00:02.5881870
  LitJsonConversionToHashtable 00:00:06.2299200
  LitJsonConversionToObject 00:00:06.4707210

Benchmarking type BenchmarkNewtonsoft
  NewtonsoftConversionToGenericObject 00:00:10.3858570
  NewtonsoftConversionToHashtable 00:00:11.3133830
  NewtonsoftConversionToObject 00:00:24.4709470
</pre>

            <p>Heap memory usage:</p>
            <pre class="screen">
SUMMARY                         
                                           
         Filename: BmJayrockImport-heap.out
  Allocated Bytes: 111.0M                  
Allocated Objects: 2923200                 
              GCs: 677                     
          Resizes: 6                       
  Final heap size: 628k                    
                                           
   Distinct Types: 162                     
       Backtraces: 1236                    


           SUMMARY                         
                                           
         Filename: BmLitJsonImport-heap.out
  Allocated Bytes: 87.7M                   
Allocated Objects: 2132239                 
              GCs: 582                     
          Resizes: 6                       
  Final heap size: 628k                    
                                           
   Distinct Types: 142                     
       Backtraces: 988


           SUMMARY                            
                                              
         Filename: BmNewtonsoftImport-heap.out
  Allocated Bytes: 504.1M                     
Allocated Objects: 8801931                    
              GCs: 3797                       
          Resizes: 6                          
  Final heap size: 644k                       
                                              
   Distinct Types: 107                        
       Backtraces: 811
</pre>
          </div>

          <div class="section" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="id2512634" name=
                  "id2512634"></a>B.2.4.&nbsp;Exporting</h3>
                </div>
              </div>
            </div>

            <p>The benchmarks implemented are:</p>

            <div class="variablelist">
              <dl>
                <dt><span class=
                "term">ConversionFromGenericObject</span></dt>

                <dd>
                  <p>Using an object of the same type as in the
                  ConversionToGenericObject benchmark, convert it
                  into a JSON string via <code class=
                  "methodname">JsonConvert.ExportToString()</code>
                  in Jayrock, <code class=
                  "methodname">JsonMapper.ToJson()</code> in
                  LitJSON, and <code class=
                  "methodname">JavaScriptConvert.SerializeObject()</code>
                  in Json.NET.</p>
                </dd>

                <dt><span class=
                "term">ConversionFromHashtable</span></dt>

                <dd>
                  <p>Convert an object with the same structure and
                  data, but of type <code class=
                  "classname">System.Collections.Hashtable</code>
                  into JSON.</p>
                </dd>

                <dt><span class=
                "term">ConversionFromObject</span></dt>

                <dd>
                  <p>Convert from the custom <code class=
                  "classname">Person</code> type into JSON.</p>
                </dd>
              </dl>
            </div>

            <p>The results:</p>
            <pre class="screen">
Benchmarking type BenchmarkJayrock
  JayrockConversionFromGenericObject 00:00:01.5508170
  JayrockConversionFromHashtable 00:00:03.9338940
  JayrockConversionFromObject 00:00:07.6953470

Benchmarking type BenchmarkLitJson
  LitJsonConversionFromGenericObject 00:00:00.2117890
  LitJsonConversionFromHashtable 00:00:02.7785360
  LitJsonConversionFromObject 00:00:03.7776010

Benchmarking type BenchmarkNewtonsoft
  NewtonsoftConversionFromGenericObject 00:00:03.1178680
  NewtonsoftConversionFromHashtable 00:00:03.0265470
  NewtonsoftConversionFromObject 00:00:08.6941390
</pre>

            <p>Heap memory usage:</p>
            <pre class="screen">
SUMMARY                         
                                           
         Filename: BmJayrockExport-heap.out
  Allocated Bytes: 104.7M                  
Allocated Objects: 2744490                 
              GCs: 639                     
          Resizes: 6                       
  Final heap size: 632k                    
                                           
   Distinct Types: 191                     
       Backtraces: 1667                    


           SUMMARY                         
                                           
         Filename: BmLitJsonExport-heap.out
  Allocated Bytes: 30.3M                   
Allocated Objects: 651969                  
              GCs: 211                     
          Resizes: 5                       
  Final heap size: 472k                    
                                           
   Distinct Types: 144                     
       Backtraces: 945


           SUMMARY                            
                                              
         Filename: BmNewtonsoftExport-heap.out
  Allocated Bytes: 83.5M                      
Allocated Objects: 2081974                    
              GCs: 586                        
          Resizes: 5                          
  Final heap size: 476k                       
                                              
   Distinct Types: 110                        
       Backtraces: 762
</pre>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
